<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ILRI Livestock Genetics Assessment Platform</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <style>
        :root {
            --ilri-primary: #0066cc;
            --dairy-color: #4472C4;
            --poultry-color: #ED7D31;
            --small-ruminant-color: #70AD47;
            --beef-color: #C00000;
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 30px rgba(0,0,0,0.15);
            --shadow-xl: 0 20px 60px rgba(0,0,0,0.25);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 200% 200%;
            animation: gradientShift 15s ease infinite;
            background-attachment: fixed;
            min-height: 100vh;
            padding: 20px;
            color: #2d3748;
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        .main-container {
            max-width: 1600px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            border-radius: 24px;
            box-shadow: var(--shadow-xl), 0 0 100px rgba(102, 126, 234, 0.3);
            overflow: hidden;
            animation: fadeInUp 0.6s ease-out;
            border: 1px solid rgba(255, 255, 255, 0.3);
        }

        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #3d5ca8 100%);
            color: white;
            padding: 50px 40px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }

        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 100%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            animation: pulse 15s infinite;
        }

        .header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.5), transparent);
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }

        .header-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .header h1 {
            font-size: 2.8em;
            font-weight: 700;
            margin-bottom: 15px;
            text-shadow: 2px 2px 8px rgba(0,0,0,0.3);
            letter-spacing: -0.5px;
        }

        .ilri-badge {
            background: rgba(255,255,255,0.25);
            backdrop-filter: blur(15px);
            padding: 12px 30px;
            border-radius: 30px;
            display: inline-block;
            font-size: 1em;
            border: 2px solid rgba(255,255,255,0.4);
            margin-top: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .ilri-badge:hover {
            background: rgba(255,255,255,0.35);
            transform: scale(1.05);
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
        }

        .nav-tabs-custom {
            background: linear-gradient(to bottom, #f8fafc, #ffffff);
            border-bottom: 3px solid #e2e8f0;
            padding: 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 4px 20px rgba(0,0,0,0.08);
        }

        .nav-tabs-custom .nav-link {
            border: none;
            color: #64748b;
            padding: 18px 28px;
            font-weight: 600;
            font-size: 0.95em;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border-bottom: 3px solid transparent;
            background: transparent;
            position: relative;
        }

        .nav-tabs-custom .nav-link::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 3px;
            background: var(--ilri-primary);
            transform: translateX(-50%);
            transition: width 0.3s;
        }

        .nav-tabs-custom .nav-link:hover {
            background: linear-gradient(to bottom, rgba(102, 126, 234, 0.08), transparent);
            color: var(--ilri-primary);
            transform: translateY(-2px);
        }

        .nav-tabs-custom .nav-link:hover::before {
            width: 80%;
        }

        .nav-tabs-custom .nav-link.active {
            background: linear-gradient(to bottom, white, rgba(255,255,255,0.9));
            color: var(--ilri-primary);
            border-bottom: 3px solid var(--ilri-primary);
            box-shadow: 0 -4px 20px rgba(102, 126, 234, 0.1);
        }

        .nav-tabs-custom .nav-link.active::before {
            width: 100%;
        }

        .content-area {
            padding: 40px;
            display: none;
        }

        .content-area.active {
            display: block;
            animation: fadeIn 0.5s;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .species-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-top: 30px;
        }

        .species-card {
            background: linear-gradient(145deg, #ffffff, #f8f9fa);
            border-radius: 20px;
            padding: 35px;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            border: 3px solid #e2e8f0;
            box-shadow: var(--shadow-md);
            position: relative;
            overflow: hidden;
        }

        .species-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: var(--species-color);
            transform: scaleX(0);
            transition: transform 0.4s;
        }

        .species-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, var(--species-color) 0%, transparent 60%);
            opacity: 0;
            transition: opacity 0.4s;
            z-index: 0;
        }

        .species-card:hover::before {
            transform: scaleX(1);
        }

        .species-card:hover::after {
            opacity: 0.05;
        }

        .species-card:hover {
            transform: translateY(-15px) scale(1.02);
            box-shadow: 0 20px 60px rgba(0,0,0,0.2), 0 0 40px var(--species-color);
            border-color: var(--species-color);
        }

        .species-card > * {
            position: relative;
            z-index: 1;
        }

        .species-icon {
            font-size: 5em;
            text-align: center;
            margin-bottom: 20px;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            filter: drop-shadow(0 4px 12px rgba(0,0,0,0.1));
        }

        .species-card:hover .species-icon {
            transform: scale(1.15) rotate(5deg);
            filter: drop-shadow(0 8px 24px rgba(0,0,0,0.2));
        }

        .species-name {
            font-size: 1.4em;
            font-weight: 700;
            text-align: center;
            margin-bottom: 10px;
        }

        .program-name {
            font-size: 0.9em;
            font-weight: 600;
            text-align: center;
            margin-bottom: 10px;
            opacity: 0.85;
        }

        .species-description {
            text-align: center;
            font-size: 0.85em;
            opacity: 0.7;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: linear-gradient(145deg, #ffffff, #f8fafc);
            border-radius: 16px;
            padding: 25px;
            text-align: center;
            box-shadow: var(--shadow-md);
            border: 2px solid #e2e8f0;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--species-color), transparent);
            animation: shimmer 3s infinite;
        }

        @keyframes shimmer {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .stat-card:hover {
            transform: translateY(-8px) scale(1.03);
            box-shadow: 0 15px 40px rgba(0,0,0,0.15);
            border-color: var(--species-color);
        }

        .stat-card:hover .stat-value {
            transform: scale(1.1);
            text-shadow: 0 0 20px var(--species-color);
        }

        .stat-value {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--species-color);
            margin-bottom: 5px;
            transition: all 0.3s;
        }

        .stat-label {
            font-size: 0.85em;
            color: #64748b;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            font-weight: 600;
        }

        .assessment-section-header {
            background: linear-gradient(135deg, var(--species-color), rgba(0,0,0,0.1));
            color: white;
            padding: 20px 28px;
            border-radius: 16px;
            margin: 35px 0 25px 0;
            font-weight: 700;
            font-size: 1.3em;
            box-shadow: 0 6px 20px rgba(0,0,0,0.15);
            position: relative;
            overflow: hidden;
        }

        .assessment-section-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transform: translateX(-100%);
            animation: headerShine 3s infinite;
        }

        @keyframes headerShine {
            0%, 100% { transform: translateX(-100%); }
            50% { transform: translateX(100%); }
        }

        .question-card {
            background: linear-gradient(145deg, #ffffff, #fafbfc);
            padding: 28px;
            border-radius: 16px;
            margin-bottom: 20px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
            border: 2px solid #e2e8f0;
            border-left: 6px solid var(--species-color);
            transition: all 0.3s;
            position: relative;
        }

        .question-card::before {
            content: '';
            position: absolute;
            inset: 0;
            border-radius: 16px;
            padding: 2px;
            background: linear-gradient(135deg, var(--species-color), transparent);
            -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
            mask-composite: exclude;
            opacity: 0;
            transition: opacity 0.3s;
        }

        .question-card:hover {
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
            transform: translateX(8px);
            border-color: var(--species-color);
        }

        .question-card:hover::before {
            opacity: 0.3;
        }

        .question-label {
            font-weight: 600;
            font-size: 1.05em;
            margin-bottom: 12px;
            color: #1e293b;
        }

        .question-sublabel {
            font-size: 0.9em;
            color: #64748b;
            font-style: italic;
            margin-bottom: 12px;
            padding-left: 12px;
            border-left: 3px solid #e2e8f0;
        }

        .form-select, .form-control {
            border: 2px solid #e2e8f0;
            border-radius: 8px;
            padding: 10px 14px;
            font-size: 0.95em;
            transition: all 0.3s;
        }

        .form-select:focus, .form-control:focus {
            border-color: var(--species-color);
            box-shadow: 0 0 0 3px rgba(68, 114, 196, 0.1);
            outline: none;
        }

        /* Beautiful Gradient Slider Styles */
        .form-range {
            height: 10px;
            background: linear-gradient(to right, 
                #ef4444 0%, 
                #f59e0b 33%, 
                #fbbf24 50%, 
                #84cc16 66%, 
                #10b981 100%
            );
            border-radius: 10px;
            outline: none;
            -webkit-appearance: none;
            appearance: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15);
        }

        /* Webkit browsers (Chrome, Safari, Edge) */
        .form-range::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .form-range::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
        }

        .form-range::-webkit-slider-thumb:active {
            transform: scale(1.1);
            box-shadow: 0 2px 8px rgba(0,0,0,0.4);
        }

        /* Firefox */
        .form-range::-moz-range-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
        }

        .form-range::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 6px 16px rgba(0,0,0,0.4);
        }

        .form-range::-moz-range-track {
            background: transparent;
            border: none;
        }

        /* IE/Edge */
        .form-range::-ms-thumb {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }

        .form-range::-ms-track {
            background: transparent;
            border-color: transparent;
            color: transparent;
        }

        /* Focus state */
        .form-range:focus {
            outline: none;
            box-shadow: 0 2px 8px rgba(0,0,0,0.15), 0 0 0 3px rgba(102, 126, 234, 0.2);
        }

        .form-range:focus::-webkit-slider-thumb {
            box-shadow: 0 6px 16px rgba(0,0,0,0.4), 0 0 0 4px rgba(102, 126, 234, 0.3);
        }

        .form-range:focus::-moz-range-thumb {
            box-shadow: 0 6px 16px rgba(0,0,0,0.4), 0 0 0 4px rgba(102, 126, 234, 0.3);
        }

        .score-display {
            background: linear-gradient(135deg, var(--species-color), rgba(0,0,0,0.2));
            color: white;
            padding: 15px;
            border-radius: 12px;
            text-align: center;
            font-size: 1.6em;
            font-weight: 700;
            margin-top: 15px;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
            position: relative;
            overflow: hidden;
            animation: scorePulse 2s ease-in-out infinite;
        }

        .score-display::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.2) 0%, transparent 70%);
            animation: scoreRotate 4s linear infinite;
        }

        @keyframes scorePulse {
            0%, 100% { box-shadow: 0 6px 20px rgba(0,0,0,0.2); }
            50% { box-shadow: 0 8px 30px rgba(0,0,0,0.3), 0 0 20px var(--species-color); }
        }

        @keyframes scoreRotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .info-box {
            background: linear-gradient(135deg, #dbeafe, #bfdbfe);
            border-left: 5px solid #3b82f6;
            padding: 18px;
            border-radius: 10px;
            margin: 20px 0;
        }

        .info-box h5 {
            color: #1e40af;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .btn-custom {
            padding: 12px 30px;
            border-radius: 12px;
            font-weight: 600;
            border: none;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            box-shadow: var(--shadow-md);
            margin: 5px;
            position: relative;
            overflow: hidden;
        }

        .btn-custom::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }

        .btn-custom:hover::before {
            width: 300px;
            height: 300px;
        }

        .btn-custom:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(0,0,0,0.25);
        }

        .btn-custom:active {
            transform: translateY(-1px);
        }

        .btn-primary-custom {
            background: linear-gradient(135deg, #0066cc, #0052a3, #003d7a);
            color: white;
        }

        .btn-success-custom {
            background: linear-gradient(135deg, #10b981, #059669, #047857);
            color: white;
        }

        .btn-info-custom {
            background: linear-gradient(135deg, #06b6d4, #0891b2, #0e7490);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626, #b91c1c);
            color: white;
        }

        .chart-container {
            background: white;
            border-radius: 16px;
            padding: 30px;
            margin: 25px 0;
            box-shadow: var(--shadow-md);
            border: 2px solid #e2e8f0;
        }

        /* View Assessment Styles */
        .view-section {
            background: #f8fafc;
            padding: 25px;
            border-radius: 12px;
            margin-bottom: 25px;
            border: 2px solid #e2e8f0;
        }

        .view-section h4 {
            color: var(--dairy-color);
            font-weight: 700;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid var(--dairy-color);
        }

        .view-item {
            display: flex;
            justify-content: space-between;
            padding: 12px 0;
            border-bottom: 1px solid #e2e8f0;
        }

        .view-item:last-child {
            border-bottom: none;
        }

        .view-label {
            font-weight: 600;
            color: #475569;
        }

        .view-value {
            color: #1e293b;
            font-weight: 500;
        }

        .score-badge {
            display: inline-block;
            padding: 6px 16px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9em;
        }

        .score-excellent {
            background: linear-gradient(135deg, #10b981, #059669);
            color: white;
        }

        .score-good {
            background: linear-gradient(135deg, #84cc16, #65a30d);
            color: white;
        }

        .score-fair {
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
        }

        .score-poor {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        .assessment-list {
            display: grid;
            gap: 15px;
        }

        .assessment-item-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            cursor: pointer;
            transition: all 0.3s;
        }

        .assessment-item-card:hover {
            border-color: var(--dairy-color);
            box-shadow: var(--shadow-md);
            transform: translateX(5px);
        }

        .assessment-item-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 10px;
        }

        .assessment-date {
            font-size: 0.85em;
            color: #64748b;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 1.8em; }
            .nav-tabs-custom .nav-link { padding: 12px 15px; font-size: 0.85em; }
            .content-area { padding: 20px; }
            .species-grid { grid-template-columns: 1fr; }
        }

        @media print {
            body {
                background: white;
                padding: 0;
            }
            .main-container {
                box-shadow: none;
            }
            .nav-tabs-custom, .btn-custom {
                display: none;
            }
        }
    
/* ---- Interaction fixes ---- */
.question-card { overflow: visible; }                 /* allow dropdown menus to extend */
.question-card::before { pointer-events: none; }      /* overlay effect should not intercept clicks */

/* Slider touch UX */
.form-range { touch-action: pan-y; }
.form-range::-webkit-slider-thumb { touch-action: none; }

</style>
</head>
<body>
    <div class="main-container">
        <div class="header">
            <div class="header-content">
                <h1><i class="fas fa-dna"></i> ILRI Livestock Genetics Assessment</h1>
                <p>International Livestock Research Institute</p>
                <div class="ilri-badge">
                    <i class="fas fa-microscope"></i> Professional Breeding Program Evaluation
                </div>
            </div>
        </div>

        <ul class="nav nav-tabs nav-tabs-custom">
            <li class="nav-item">
                <button class="nav-link active" onclick="showTab('home')">
                    <i class="fas fa-home"></i> Home
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" onclick="showTab('assessment')">
                    <i class="fas fa-clipboard-check"></i> Assessment
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" onclick="showTab('view')">
                    <i class="fas fa-eye"></i> View
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" onclick="showTab('results')">
                    <i class="fas fa-chart-line"></i> Results
                </button>
            </li>
            <li class="nav-item">
                <button class="nav-link" onclick="showTab('export')">
                    <i class="fas fa-download"></i> Export
                </button>
            </li>
        <li class="nav-item"><a class="nav-link" href="#" onclick="showTab('evaluation-guide')">Evaluation Guide</a></li></ul>

        <div id="home" class="content-area active">
            <div style="text-align: center; padding: 50px 20px;">
                <h2 style="font-size: 2.5em; margin-bottom: 20px;">Welcome to ILRI Assessment Platform</h2>
                <p style="font-size: 1.2em; color: #64748b; max-width: 700px; margin: 0 auto 40px;">
                    Evaluate breeding programs for dairy cattle, poultry, small ruminants, and beef cattle across multiple countries.
                </p>
                <button class="btn-custom btn-primary-custom btn-lg" onclick="showTab('assessment')">
                    <i class="fas fa-rocket"></i> Start Assessment
                </button>
                <button class="btn-custom btn-info-custom btn-lg" onclick="showTab('view')">
                    <i class="fas fa-eye"></i> View Assessments
                </button>
            </div>
        </div>

        <div id="assessment" class="content-area">
            <div id="species-selector">
                <h2 style="text-align: center; font-size: 2em; margin-bottom: 30px;">Select Your Breeding Program</h2>
                
                <div class="species-grid">
                    <div class="species-card" style="--species-color: var(--dairy-color)" onclick="loadSpecies('dairy')">
                        <div class="species-icon">üêÑ</div>
                        <h3 class="species-name">Dairy Cattle</h3>
                        <p class="program-name">African Dairy Genetics (ADG)</p>
                        <p class="species-description">Ethiopia ‚Ä¢ Tanzania ‚Ä¢ Kenya ‚Ä¢ Nigeria</p>
                    </div>

                    <div class="species-card" style="--species-color: var(--poultry-color)" onclick="loadSpecies('poultry')">
                        <div class="species-icon">üêì</div>
                        <h3 class="species-name">Poultry</h3>
                        <p class="program-name">African Chicken Genetics (ACGP)</p>
                        <p class="species-description">Ethiopia ‚Ä¢ Tanzania ‚Ä¢ Nigeria ‚Ä¢ Cambodia ‚Ä¢ Vietnam</p>
                    </div>

                    <div class="species-card" style="--species-color: var(--small-ruminant-color)" onclick="alert('Coming soon')">
                        <div class="species-icon">üêë</div>
                        <h3 class="species-name">Small Ruminants</h3>
                        <p class="program-name">Sheep & Goat Programs</p>
                        <p class="species-description">Multi-country ‚Ä¢ Framework ready</p>
                    </div>

                    <div class="species-card" style="--species-color: var(--beef-color)" onclick="alert('Coming soon')">
                        <div class="species-icon">üêÇ</div>
                        <h3 class="species-name">Beef Cattle</h3>
                        <p class="program-name">Beef Genetics Programs</p>
                        <p class="species-description">Multi-country ‚Ä¢ Framework ready</p>
                    </div>
                </div>
            </div>

            <div id="dairy-assessment" style="display: none; --species-color: var(--dairy-color)">
                <button class="btn-custom btn-secondary" onclick="backToSpecies()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Back to Species Selection
                </button>

                <h2 style="font-size: 2em; margin-bottom: 20px;">üêÑ Dairy Cattle Assessment (ADG)</h2>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label>Evaluator Name</label>
                            <input type="text" class="form-control" id="dairy-evaluator">
                        </div>
                        <div class="col-md-3">
                            <label>Date</label>
                            <input type="date" class="form-control" id="dairy-date">
                        </div>
                        <div class="col-md-3">
                            <label>Country</label>
                            <select class="form-select" id="dairy-country">
                                <option value="">Select</option>
                                <option value="ethiopia">Ethiopia</option>
                                <option value="tanzania">Tanzania</option>
                                <option value="kenya">Kenya</option>
                                <option value="nigeria">Nigeria</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label>Breed</label>
                            <input type="text" class="form-control" id="dairy-breed" placeholder="e.g., Holstein">
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="dairy-total">0</div>
                        <div class="stat-label">Total Score / 100</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="dairy-status">--</div>
                        <div class="stat-label">Status</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="dairy-completion">0%</div>
                        <div class="stat-label">Completion</div>
                    </div>
                </div>

                <div class="assessment-section-header">1. STRUCTURE & GOVERNANCE (8%)</div>
                
                <div class="question-card">
                    <div class="question-label">Are dairy breeding objectives clearly defined for smallholder systems?</div>
                    <select class="form-select mb-3" id="dairy-gov-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - Not defined</option>
                        <option value="1">1 - Vaguely stated</option>
                        <option value="2">2 - Defined but not documented</option>
                        <option value="3">3 - Well documented</option>
                        <option value="4">4 - Clear targets with analysis</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-gov-1" oninput="updateScoreDisplay('dairy-gov-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-gov-1">0 / 4</div>
                </div>

                <div class="question-card">
                    <div class="question-label">Is the three-tier breeding structure functional?</div>
                    <div class="question-sublabel">Tier 1: Pure bred nucleus ‚Üí Tier 2: Parental/multiplier ‚Üí Tier 3: Commercial/smallholder</div>
                    <select class="form-select mb-3" id="dairy-gov-2-select" onchange="updateDairyScores()">
                        <option value="0">0 - No structure</option>
                        <option value="1">1 - Single tier only</option>
                        <option value="2">2 - Two tiers partial</option>
                        <option value="3">3 - Three tiers, weak links</option>
                        <option value="4">4 - All tiers functional</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-gov-2" oninput="updateScoreDisplay('dairy-gov-2', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-gov-2">0 / 4</div>
                </div>

                <div class="assessment-section-header">2. POPULATION & GENETIC BASE (12%)</div>
                
                <div class="question-card">
                    <div class="question-label">Is breeding population size adequate?</div>
                    <input type="number" class="form-control mb-2" id="dairy-bulls" placeholder="Bulls count" onchange="updateDairyScores()">
                    <input type="number" class="form-control mb-3" id="dairy-cows" placeholder="Cows count" onchange="updateDairyScores()">
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-pop-1" oninput="updateScoreDisplay('dairy-pop-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-pop-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">3. RECORDING & DATA QUALITY (15%)</div>
                
                <div class="question-card">
                    <div class="question-label">Is milk production systematically recorded?</div>
                    <select class="form-select mb-3" id="dairy-rec-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - No recording</option>
                        <option value="1">1 - Occasional</option>
                        <option value="2">2 - Regular paper</option>
                        <option value="3">3 - Test-day system</option>
                        <option value="4">4 - Automated/DHI</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-rec-1" oninput="updateScoreDisplay('dairy-rec-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-rec-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">4. GENETIC EVALUATION (15%)</div>
                
                <div class="question-card">
                    <div class="question-label">What genetic evaluation methods are used?</div>
                    <select class="form-select mb-3" id="dairy-sel-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - None</option>
                        <option value="1">1 - Phenotypic</option>
                        <option value="2">2 - Selection index</option>
                        <option value="3">3 - BLUP</option>
                        <option value="4">4 - Genomic</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-sel-1" oninput="updateScoreDisplay('dairy-sel-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-sel-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">5. REPRODUCTIVE TECHNOLOGIES (10%)</div>
                
                <div class="question-card">
                    <div class="question-label">Is AI service delivery effective?</div>
                    <select class="form-select mb-3" id="dairy-repro-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - No AI</option>
                        <option value="1">1 - Limited</option>
                        <option value="2">2 - Basic AI</option>
                        <option value="3">3 - Regular services</option>
                        <option value="4">4 - Comprehensive network</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-repro-1" oninput="updateScoreDisplay('dairy-repro-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-repro-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">6. HEALTH & BIOSECURITY (12%)</div>
                
                <div class="question-card">
                    <div class="question-label">Are health programs in place?</div>
                    <select class="form-select mb-3" id="dairy-health-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - No program</option>
                        <option value="1">1 - Basic</option>
                        <option value="2">2 - Preventive</option>
                        <option value="3">3 - Comprehensive</option>
                        <option value="4">4 - Disease surveillance</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-health-1" oninput="updateScoreDisplay('dairy-health-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-health-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">7. DISSEMINATION (15%)</div>
                
                <div class="question-card">
                    <div class="question-label">How many smallholder farmers reached?</div>
                    <input type="number" class="form-control mb-3" id="dairy-farmers" placeholder="Farmer count" onchange="updateDairyScores()">
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-diss-1" oninput="updateScoreDisplay('dairy-diss-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-diss-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">8. PARTNERSHIPS (8%)</div>
                
                <div class="question-card">
                    <div class="question-label">CTLGH collaboration effectiveness?</div>
                    <select class="form-select mb-3" id="dairy-partner-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - No collaboration</option>
                        <option value="1">1 - Minimal</option>
                        <option value="2">2 - Regular</option>
                        <option value="3">3 - Strong partnership</option>
                        <option value="4">4 - Strategic partnership</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-partner-1" oninput="updateScoreDisplay('dairy-partner-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-partner-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">9. GENETIC & PHENOTYPIC PROGRESS (10%)</div>
                
                <div class="question-card">
                    <div class="question-label">Are genetic and phenotypic trends monitored?</div>
                    <select class="form-select mb-3" id="dairy-progress-1-select" onchange="updateDairyScores()">
                        <option value="0">0 - Not monitored</option>
                        <option value="1">1 - Ad-hoc</option>
                        <option value="2">2 - Periodic</option>
                        <option value="3">3 - Annual analysis</option>
                        <option value="4">4 - Real-time monitoring</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-progress-1" oninput="updateScoreDisplay('dairy-progress-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-progress-1">0 / 4</div>
                </div>

                <div class="assessment-section-header">10. RESEARCH OUTPUTS (5%)</div>
                
                <div class="question-card">
                    <div class="question-label">Are findings documented & published?</div>
                    <input type="number" class="form-control mb-2" id="dairy-publications" placeholder="Publications count" onchange="updateDairyScores()">
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="dairy-research-1" oninput="updateScoreDisplay('dairy-research-1', this.value); updateDairyScores()">
                    <div class="score-display" id="display-dairy-research-1">0 / 4</div>
                </div>

                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn-custom btn-primary-custom btn-lg" onclick="saveDairyAssessment()">
                        <i class="fas fa-save"></i> Save Assessment
                    </button>
                    <button class="btn-custom btn-success-custom btn-lg" onclick="showTab('results')">
                        <i class="fas fa-chart-line"></i> View Results
                    </button>
                </div>
            </div>

            <div id="poultry-assessment" style="display: none; --species-color: var(--poultry-color)">
                <button class="btn-custom btn-secondary" onclick="backToSpecies()" style="margin-bottom: 20px;">
                    <i class="fas fa-arrow-left"></i> Back to Species Selection
                </button>

                <h2 style="font-size: 2em; margin-bottom: 20px;">üêì Poultry Assessment (ACGP)</h2>

                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
                    <div class="row g-3">
                        <div class="col-md-3">
                            <label>Evaluator Name</label>
                            <input type="text" class="form-control" id="poultry-evaluator">
                        </div>
                        <div class="col-md-3">
                            <label>Date</label>
                            <input type="date" class="form-control" id="poultry-date">
                        </div>
                        <div class="col-md-3">
                            <label>Country</label>
                            <select class="form-select" id="poultry-country">
                                <option value="">Select</option>
                                <option value="ethiopia">Ethiopia</option>
                                <option value="tanzania">Tanzania</option>
                                <option value="nigeria">Nigeria</option>
                                <option value="cambodia">Cambodia</option>
                                <option value="vietnam">Vietnam</option>
                            </select>
                        </div>
                        <div class="col-md-3">
                            <label>Breed/Line</label>
                            <input type="text" class="form-control" id="poultry-breed" placeholder="e.g., Kuroiler">
                        </div>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card" style="--species-color: var(--poultry-color)">
                        <div class="stat-value" id="poultry-total">0</div>
                        <div class="stat-label">Total Score / 100</div>
                    </div>
                    <div class="stat-card" style="--species-color: var(--poultry-color)">
                        <div class="stat-value" id="poultry-status">--</div>
                        <div class="stat-label">Status</div>
                    </div>
                    <div class="stat-card" style="--species-color: var(--poultry-color)">
                        <div class="stat-value" id="poultry-completion">0%</div>
                        <div class="stat-label">Completion</div>
                    </div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">1. STRUCTURE & GOVERNANCE (8%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Are poultry breeding objectives clearly defined for smallholder systems?</div>
                    <select class="form-select mb-3" id="poultry-gov-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - Not defined</option>
                        <option value="1">1 - Vaguely stated</option>
                        <option value="2">2 - Defined but not documented</option>
                        <option value="3">3 - Well documented</option>
                        <option value="4">4 - Clear targets with analysis</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-gov-1" oninput="updateScoreDisplay('poultry-gov-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-gov-1">0 / 4</div>
                </div>

                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Is the breeding structure functional?</div>
                    <div class="question-sublabel">Nucleus flock ‚Üí Multiplier ‚Üí Commercial smallholder</div>
                    <select class="form-select mb-3" id="poultry-gov-2-select" onchange="updatePoultryScores()">
                        <option value="0">0 - No structure</option>
                        <option value="1">1 - Single tier only</option>
                        <option value="2">2 - Two tiers partial</option>
                        <option value="3">3 - All tiers, weak links</option>
                        <option value="4">4 - All tiers functional</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-gov-2" oninput="updateScoreDisplay('poultry-gov-2', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-gov-2">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">2. POPULATION & GENETIC BASE (12%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Is breeding population size adequate?</div>
                    <input type="number" class="form-control mb-2" id="poultry-males" placeholder="Males count" onchange="updatePoultryScores()">
                    <input type="number" class="form-control mb-3" id="poultry-females" placeholder="Females count" onchange="updatePoultryScores()">
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-pop-1" oninput="updateScoreDisplay('poultry-pop-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-pop-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">3. RECORDING & DATA QUALITY (15%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Are production traits systematically recorded?</div>
                    <div class="question-sublabel">Body weight, egg production, feed conversion, survival</div>
                    <select class="form-select mb-3" id="poultry-rec-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - No recording</option>
                        <option value="1">1 - Occasional</option>
                        <option value="2">2 - Regular paper records</option>
                        <option value="3">3 - Digital recording system</option>
                        <option value="4">4 - Automated/comprehensive</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-rec-1" oninput="updateScoreDisplay('poultry-rec-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-rec-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">4. GENETIC EVALUATION (15%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">What genetic evaluation methods are used?</div>
                    <select class="form-select mb-3" id="poultry-sel-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - None</option>
                        <option value="1">1 - Phenotypic selection</option>
                        <option value="2">2 - Pedigree-based BLUP</option>
                        <option value="3">3 - BLUP with relationships</option>
                        <option value="4">4 - Genomic selection</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-sel-1" oninput="updateScoreDisplay('poultry-sel-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-sel-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">5. REPRODUCTIVE TECHNOLOGIES (10%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Are reproductive technologies effectively used?</div>
                    <div class="question-sublabel">Hatchery management, incubation protocols, artificial insemination</div>
                    <select class="form-select mb-3" id="poultry-repro-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - No technology</option>
                        <option value="1">1 - Basic natural mating</option>
                        <option value="2">2 - Basic hatchery</option>
                        <option value="3">3 - Modern hatchery</option>
                        <option value="4">4 - Advanced reproductive tech</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-repro-1" oninput="updateScoreDisplay('poultry-repro-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-repro-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">6. HEALTH & BIOSECURITY (12%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Are health and biosecurity programs in place?</div>
                    <select class="form-select mb-3" id="poultry-health-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - No program</option>
                        <option value="1">1 - Basic vaccination</option>
                        <option value="2">2 - Preventive health</option>
                        <option value="3">3 - Comprehensive program</option>
                        <option value="4">4 - Advanced biosecurity</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-health-1" oninput="updateScoreDisplay('poultry-health-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-health-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">7. DISSEMINATION (15%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">How many smallholder farmers reached?</div>
                    <input type="number" class="form-control mb-3" id="poultry-farmers" placeholder="Farmer count" onchange="updatePoultryScores()">
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-diss-1" oninput="updateScoreDisplay('poultry-diss-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-diss-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">8. PARTNERSHIPS (8%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Collaboration effectiveness with partners?</div>
                    <div class="question-sublabel">Government, NGOs, private sector, research institutions</div>
                    <select class="form-select mb-3" id="poultry-partner-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - No collaboration</option>
                        <option value="1">1 - Minimal</option>
                        <option value="2">2 - Regular</option>
                        <option value="3">3 - Strong partnership</option>
                        <option value="4">4 - Strategic partnership</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-partner-1" oninput="updateScoreDisplay('poultry-partner-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-partner-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">9. GENETIC & PHENOTYPIC PROGRESS (10%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Are genetic and phenotypic trends monitored?</div>
                    <select class="form-select mb-3" id="poultry-progress-1-select" onchange="updatePoultryScores()">
                        <option value="0">0 - Not monitored</option>
                        <option value="1">1 - Ad-hoc</option>
                        <option value="2">2 - Periodic</option>
                        <option value="3">3 - Annual analysis</option>
                        <option value="4">4 - Real-time monitoring</option>
                    </select>
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-progress-1" oninput="updateScoreDisplay('poultry-progress-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-progress-1">0 / 4</div>
                </div>

                <div class="assessment-section-header" style="background: var(--poultry-color)">10. RESEARCH OUTPUTS (5%)</div>
                
                <div class="question-card" style="border-left-color: var(--poultry-color)">
                    <div class="question-label">Are findings documented & published?</div>
                    <input type="number" class="form-control mb-2" id="poultry-publications" placeholder="Publications count" onchange="updatePoultryScores()">
                    <label>Overall Score (0-4)</label>
                    <input type="range" class="form-range" min="0" max="4" step="1" value="0" 
                           id="poultry-research-1" oninput="updateScoreDisplay('poultry-research-1', this.value); updatePoultryScores()">
                    <div class="score-display" style="background: var(--poultry-color)" id="display-poultry-research-1">0 / 4</div>
                </div>

                <div style="text-align: center; margin-top: 40px;">
                    <button class="btn-custom btn-primary-custom btn-lg" onclick="savePoultryAssessment()">
                        <i class="fas fa-save"></i> Save Assessment
                    </button>
                    <button class="btn-custom btn-success-custom btn-lg" onclick="showTab('results')">
                        <i class="fas fa-chart-line"></i> View Results
                    </button>
                </div>
            </div>
        </div>

        <div id="view" class="content-area">
            <h2 style="text-align: center; font-size: 2em; margin-bottom: 30px;"><i class="fas fa-eye"></i> View Saved Assessments</h2>
            
            <div id="assessments-list" class="assessment-list">
                <!-- Assessments will be loaded here dynamically -->
            </div>

            <div id="no-assessments" style="text-align: center; padding: 50px 20px; display: none;">
                <i class="fas fa-folder-open" style="font-size: 5em; color: #cbd5e1; margin-bottom: 20px;"></i>
                <h3 style="color: #64748b;">No Assessments Found</h3>
                <p style="color: #94a3b8; margin-bottom: 30px;">You haven't saved any assessments yet. Start a new assessment to get started!</p>
                <button class="btn-custom btn-primary-custom" onclick="showTab('assessment')">
                    <i class="fas fa-plus"></i> Create New Assessment
                </button>
            </div>

            <div id="view-detail" style="display: none;">
                <button class="btn-custom btn-secondary mb-4" onclick="backToAssessmentList()">
                    <i class="fas fa-arrow-left"></i> Back to List
                </button>

                <div class="view-section">
                    <h4><i class="fas fa-info-circle"></i> Assessment Information</h4>
                    <div class="view-item">
                        <span class="view-label">Program:</span>
                        <span class="view-value" id="view-program">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Evaluator:</span>
                        <span class="view-value" id="view-evaluator">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Date:</span>
                        <span class="view-value" id="view-date">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Country:</span>
                        <span class="view-value" id="view-country">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Breed:</span>
                        <span class="view-value" id="view-breed">-</span>
                    </div>
                </div>

                <div class="view-section">
                    <h4><i class="fas fa-chart-bar"></i> Overall Scores</h4>
                    <div class="view-item">
                        <span class="view-label">Total Score:</span>
                        <span class="view-value"><strong id="view-total-score">0</strong> / 100</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Status:</span>
                        <span class="view-value">
                            <span class="score-badge" id="view-status-badge">-</span>
                        </span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Completion:</span>
                        <span class="view-value" id="view-completion">0%</span>
                    </div>
                </div>

                <div class="view-section">
                    <h4><i class="fas fa-list-check"></i> Section Scores</h4>
                    <div id="view-sections">
                        <!-- Section scores will be loaded here -->
                    </div>
                </div>

                <div class="view-section">
                    <h4><i class="fas fa-database"></i> Additional Data</h4>
                    <div class="view-item">
                        <span class="view-label">Bulls Count:</span>
                        <span class="view-value" id="view-bulls">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Cows Count:</span>
                        <span class="view-value" id="view-cows">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Farmers Reached:</span>
                        <span class="view-value" id="view-farmers">-</span>
                    </div>
                    <div class="view-item">
                        <span class="view-label">Publications:</span>
                        <span class="view-value" id="view-publications">-</span>
                    </div>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <button class="btn-custom btn-primary-custom" onclick="loadAssessmentForEdit()">
                        <i class="fas fa-edit"></i> Edit Assessment
                    </button>
                    <button class="btn-custom btn-danger" onclick="deleteCurrentAssessment()">
                        <i class="fas fa-trash"></i> Delete Assessment
                    </button>
                </div>
            </div>
        </div>

        <div id="results" class="content-area">
            <h2 style="text-align: center; font-size: 2em; margin-bottom: 30px;">Assessment Results & Analytics</h2>
            
            <div class="stats-grid">
                <div class="stat-card" style="--species-color: var(--dairy-color)">
                    <div class="stat-value" id="results-total">0</div>
                    <div class="stat-label">Total Score / 100</div>
                </div>
                <div class="stat-card" style="--species-color: var(--dairy-color)">
                    <div class="stat-value" id="results-status">--</div>
                    <div class="stat-label">Program Status</div>
                </div>
            </div>

            <div class="chart-container">
                <h3 style="margin-bottom: 20px;">Program Performance</h3>
                <canvas id="resultsChart" height="100"></canvas>
            </div>
        </div>

        <div id="export" class="content-area">
            <h2 style="text-align: center; font-size: 2em; margin-bottom: 30px;">Export Assessment Reports</h2>
            
            <div style="max-width: 800px; margin: 0 auto;">
                <div class="question-card">
                    <h4><i class="fas fa-file-excel"></i> Excel Report</h4>
                    <p>Comprehensive data export with all scores and analysis</p>
                    <button class="btn-custom btn-success-custom" onclick="exportExcel()">
                        <i class="fas fa-download"></i> Download Excel
                    </button>
                </div>

                <div class="question-card">
                    <h4><i class="fas fa-file-pdf"></i> PDF Report</h4>
                    <p>Professional document for presentations</p>
                    <button class="btn-custom btn-primary-custom" onclick="window.print()">
                        <i class="fas fa-file-pdf"></i> Generate PDF
                    </button>
                </div>

                <div class="question-card">
                    <h4><i class="fas fa-database"></i> JSON Data</h4>
                    <p>Raw data backup in JSON format</p>
                    <button class="btn-custom btn-primary-custom" onclick="exportJSON()">
                        <i class="fas fa-code"></i> Export JSON
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        let currentSpecies = null;
        let charts = {};
        let currentViewAssessment = null;

        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('dairy-date').valueAsDate = new Date();
            const poultryDate = document.getElementById('poultry-date');
            if (poultryDate) poultryDate.valueAsDate = new Date();
            initializeCharts();
            loadAssessmentsList();
        });

        function showTab(tabName) {
            document.querySelectorAll('.content-area').forEach(el => el.classList.remove('active'));
            document.getElementById(tabName).classList.add('active');
            document.querySelectorAll('.nav-link').forEach(el => el.classList.remove('active'));
const navBtn = document.querySelector(`.nav-link[onclick*="${tabName}"]`);
if (navBtn) navBtn.classList.add('active');
            
            if (tabName === 'view') {
                loadAssessmentsList();
            }
        }

        function loadSpecies(species) {
            document.getElementById('species-selector').style.display = 'none';
            document.getElementById(`${species}-assessment`).style.display = 'block';
            currentSpecies = species;
        }

        function backToSpecies() {
            document.getElementById('species-selector').style.display = 'block';
            document.getElementById(`${currentSpecies}-assessment`).style.display = 'none';
        }

        function updateScoreDisplay(id, value) {
            document.getElementById(`display-${id}`).textContent = `${value} / 4`;
        }

        function updateDairyScores() {
            // Sync dropdowns with sliders
            const gov1Select = document.getElementById('dairy-gov-1-select');
            const gov1Slider = document.getElementById('dairy-gov-1');
            if (gov1Select && gov1Slider) {
                gov1Slider.value = gov1Select.value;
                updateScoreDisplay('dairy-gov-1', gov1Select.value);
            }

            const gov2Select = document.getElementById('dairy-gov-2-select');
            const gov2Slider = document.getElementById('dairy-gov-2');
            if (gov2Select && gov2Slider) {
                gov2Slider.value = gov2Select.value;
                updateScoreDisplay('dairy-gov-2', gov2Select.value);
            }

            const rec1Select = document.getElementById('dairy-rec-1-select');
            const rec1Slider = document.getElementById('dairy-rec-1');
            if (rec1Select && rec1Slider) {
                rec1Slider.value = rec1Select.value;
                updateScoreDisplay('dairy-rec-1', rec1Select.value);
            }

            const sel1Select = document.getElementById('dairy-sel-1-select');
            const sel1Slider = document.getElementById('dairy-sel-1');
            if (sel1Select && sel1Slider) {
                sel1Slider.value = sel1Select.value;
                updateScoreDisplay('dairy-sel-1', sel1Select.value);
            }

            const repro1Select = document.getElementById('dairy-repro-1-select');
            const repro1Slider = document.getElementById('dairy-repro-1');
            if (repro1Select && repro1Slider) {
                repro1Slider.value = repro1Select.value;
                updateScoreDisplay('dairy-repro-1', repro1Select.value);
            }

            const health1Select = document.getElementById('dairy-health-1-select');
            const health1Slider = document.getElementById('dairy-health-1');
            if (health1Select && health1Slider) {
                health1Slider.value = health1Select.value;
                updateScoreDisplay('dairy-health-1', health1Select.value);
            }

            const partner1Select = document.getElementById('dairy-partner-1-select');
            const partner1Slider = document.getElementById('dairy-partner-1');
            if (partner1Select && partner1Slider) {
                partner1Slider.value = partner1Select.value;
                updateScoreDisplay('dairy-partner-1', partner1Select.value);
            }

            const progress1Select = document.getElementById('dairy-progress-1-select');
            const progress1Slider = document.getElementById('dairy-progress-1');
            if (progress1Select && progress1Slider) {
                progress1Slider.value = progress1Select.value;
                updateScoreDisplay('dairy-progress-1', progress1Select.value);
            }

            const scores = [
                parseFloat(document.getElementById('dairy-gov-1')?.value || 0),
                parseFloat(document.getElementById('dairy-gov-2')?.value || 0),
                parseFloat(document.getElementById('dairy-pop-1')?.value || 0),
                parseFloat(document.getElementById('dairy-rec-1')?.value || 0),
                parseFloat(document.getElementById('dairy-sel-1')?.value || 0),
                parseFloat(document.getElementById('dairy-repro-1')?.value || 0),
                parseFloat(document.getElementById('dairy-health-1')?.value || 0),
                parseFloat(document.getElementById('dairy-diss-1')?.value || 0),
                parseFloat(document.getElementById('dairy-partner-1')?.value || 0),
                parseFloat(document.getElementById('dairy-progress-1')?.value || 0),
                parseFloat(document.getElementById('dairy-research-1')?.value || 0)
            ];

            const weights = [0.08, 0.08, 0.12, 0.15, 0.15, 0.10, 0.12, 0.15, 0.08, 0.10, 0.05];
            
            let totalScore = 0;
            for (let i = 0; i < Math.min(scores.length, weights.length); i++) {
                totalScore += (scores[i] / 4) * (weights[i] * 100);
            }

            totalScore = (totalScore / 1.18);

            document.getElementById('dairy-total').textContent = totalScore.toFixed(1);
            document.getElementById('results-total').textContent = totalScore.toFixed(1);
            
            let status = 'Developing';
            if (totalScore >= 85) status = 'Mature';
            else if (totalScore >= 70) status = 'Functional';
            else if (totalScore >= 50) status = 'Pilot';
            
            document.getElementById('dairy-status').textContent = status;
            document.getElementById('results-status').textContent = status;

            const completed = scores.filter(s => s > 0).length;
            document.getElementById('dairy-completion').textContent = Math.round((completed / scores.length) * 100) + '%';

            if (charts.results) {
                const sectionScores = [
                    (scores[0] + scores[1]) / 2,
                    scores[2],
                    scores[3],
                    scores[4],
                    scores[5],
                    scores[6],
                    scores[7],
                    scores[8],
                    scores[9],
                    scores[10]
                ];
                charts.results.data.datasets[0].data = sectionScores;
                charts.results.update();
            }
        }

        function initializeCharts() {
            const ctx = document.getElementById('resultsChart');
            if (ctx) {
                charts.results = new Chart(ctx.getContext('2d'), {
                    type: 'radar',
                    data: {
                        labels: ['Governance', 'Population', 'Recording', 'Selection', 'Repro Tech', 'Health', 'Dissemination', 'Partnerships', 'Progress', 'Research'],
                        datasets: [{
                            label: 'Score',
                            data: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
                            backgroundColor: 'rgba(68, 114, 196, 0.2)',
                            borderColor: 'rgba(68, 114, 196, 1)',
                            borderWidth: 2,
                            pointBackgroundColor: 'rgba(68, 114, 196, 1)'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: true,
                        scales: {
                            r: {
                                beginAtZero: true,
                                max: 4,
                                ticks: { stepSize: 1 }
                            }
                        }
                    }
                });
            }
        }

        function saveDairyAssessment() {
            const scores = [
                parseFloat(document.getElementById('dairy-gov-1')?.value || 0),
                parseFloat(document.getElementById('dairy-gov-2')?.value || 0),
                parseFloat(document.getElementById('dairy-pop-1')?.value || 0),
                parseFloat(document.getElementById('dairy-rec-1')?.value || 0),
                parseFloat(document.getElementById('dairy-sel-1')?.value || 0),
                parseFloat(document.getElementById('dairy-repro-1')?.value || 0),
                parseFloat(document.getElementById('dairy-health-1')?.value || 0),
                parseFloat(document.getElementById('dairy-diss-1')?.value || 0),
                parseFloat(document.getElementById('dairy-partner-1')?.value || 0),
                parseFloat(document.getElementById('dairy-progress-1')?.value || 0),
                parseFloat(document.getElementById('dairy-research-1')?.value || 0)
            ];

            const weights = [0.08, 0.08, 0.12, 0.15, 0.15, 0.10, 0.12, 0.15, 0.08, 0.10, 0.05];
            let totalScore = 0;
            for (let i = 0; i < Math.min(scores.length, weights.length); i++) {
                totalScore += (scores[i] / 4) * (weights[i] * 100);
            }
            totalScore = (totalScore / 1.18);

            let status = 'Developing';
            if (totalScore >= 85) status = 'Mature';
            else if (totalScore >= 70) status = 'Functional';
            else if (totalScore >= 50) status = 'Pilot';

            const data = {
                program: 'African Dairy Genetics',
                evaluator: document.getElementById('dairy-evaluator').value,
                date: document.getElementById('dairy-date').value,
                country: document.getElementById('dairy-country').value,
                breed: document.getElementById('dairy-breed').value,
                timestamp: new Date().toISOString(),
                totalScore: totalScore.toFixed(1),
                status: status,
                scores: {
                    governance1: scores[0],
                    governance2: scores[1],
                    population: scores[2],
                    recording: scores[3],
                    selection: scores[4],
                    repro: scores[5],
                    health: scores[6],
                    dissemination: scores[7],
                    partnerships: scores[8],
                    progress: scores[9],
                    research: scores[10]
                },
                additionalData: {
                    bulls: document.getElementById('dairy-bulls').value || 0,
                    cows: document.getElementById('dairy-cows').value || 0,
                    farmers: document.getElementById('dairy-farmers').value || 0,
                    publications: document.getElementById('dairy-publications').value || 0
                }
            };
            
            // Get all saved assessments
            let allAssessments = JSON.parse(localStorage.getItem('ilri_all_assessments') || '[]');
            
            // Add new assessment with unique ID
            data.id = Date.now();
            allAssessments.push(data);
            
            // Save back to localStorage
            localStorage.setItem('ilri_all_assessments', JSON.stringify(allAssessments));
            localStorage.setItem('ilri_dairy_assessment', JSON.stringify(data));
            
            alert('‚úì Assessment saved successfully!');
            loadAssessmentsList();
        }

        function loadAssessmentsList() {
            const allAssessments = JSON.parse(localStorage.getItem('ilri_all_assessments') || '[]');
            const listContainer = document.getElementById('assessments-list');
            const noAssessmentsDiv = document.getElementById('no-assessments');
            
            if (allAssessments.length === 0) {
                listContainer.innerHTML = '';
                noAssessmentsDiv.style.display = 'block';
                return;
            }
            
            noAssessmentsDiv.style.display = 'none';
            listContainer.innerHTML = allAssessments.map((assessment, index) => `
                <div class="assessment-item-card" onclick="viewAssessmentDetail(${assessment.id})">
                    <div class="assessment-item-header">
                        <div>
                            <h5 style="margin: 0; color: var(--dairy-color);">
                                <i class="fas fa-clipboard-check"></i> ${assessment.program}
                            </h5>
                            <p style="margin: 5px 0 0 0; color: #64748b; font-size: 0.9em;">
                                ${assessment.evaluator || 'Unknown'} ‚Ä¢ ${assessment.country || 'N/A'} ‚Ä¢ ${assessment.breed || 'N/A'}
                            </p>
                        </div>
                        <div style="text-align: right;">
                            <div class="score-badge ${getScoreBadgeClass(assessment.totalScore)}">
                                ${assessment.totalScore} / 100
                            </div>
                            <p class="assessment-date" style="margin: 5px 0 0 0;">
                                ${new Date(assessment.date).toLocaleDateString()}
                            </p>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function getScoreBadgeClass(score) {
            score = parseFloat(score);
            if (score >= 85) return 'score-excellent';
            if (score >= 70) return 'score-good';
            if (score >= 50) return 'score-fair';
            return 'score-poor';
        }

        function viewAssessmentDetail(id) {
            const allAssessments = JSON.parse(localStorage.getItem('ilri_all_assessments') || '[]');
            const assessment = allAssessments.find(a => a.id === id);
            
            if (!assessment) {
                alert('Assessment not found!');
                return;
            }
            
            currentViewAssessment = assessment;
            
            // Hide list, show detail
            document.getElementById('assessments-list').style.display = 'none';
            document.getElementById('no-assessments').style.display = 'none';
            document.getElementById('view-detail').style.display = 'block';
            
            // Populate detail view
            document.getElementById('view-program').textContent = assessment.program;
            document.getElementById('view-evaluator').textContent = assessment.evaluator || 'N/A';
            document.getElementById('view-date').textContent = new Date(assessment.date).toLocaleDateString();
            document.getElementById('view-country').textContent = assessment.country || 'N/A';
            document.getElementById('view-breed').textContent = assessment.breed || 'N/A';
            document.getElementById('view-total-score').textContent = assessment.totalScore;
            
            const statusBadge = document.getElementById('view-status-badge');
            statusBadge.textContent = assessment.status;
            statusBadge.className = 'score-badge ' + getScoreBadgeClass(assessment.totalScore);
            
            const completed = Object.values(assessment.scores).filter(s => s > 0).length;
            document.getElementById('view-completion').textContent = Math.round((completed / Object.keys(assessment.scores).length) * 100) + '%';
            
            // Section scores
            const sectionsHtml = `
                <div class="view-item">
                    <span class="view-label">Structure & Governance:</span>
                    <span class="view-value">${assessment.scores.governance1 + assessment.scores.governance2} / 8</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Population & Genetic Base:</span>
                    <span class="view-value">${assessment.scores.population} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Recording & Data Quality:</span>
                    <span class="view-value">${assessment.scores.recording} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Genetic Evaluation:</span>
                    <span class="view-value">${assessment.scores.selection} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Reproductive Technologies:</span>
                    <span class="view-value">${assessment.scores.repro} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Health & Biosecurity:</span>
                    <span class="view-value">${assessment.scores.health} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Dissemination:</span>
                    <span class="view-value">${assessment.scores.dissemination} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Partnerships:</span>
                    <span class="view-value">${assessment.scores.partnerships} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Genetic & Phenotypic Progress:</span>
                    <span class="view-value">${assessment.scores.progress} / 4</span>
                </div>
                <div class="view-item">
                    <span class="view-label">Research Outputs:</span>
                    <span class="view-value">${assessment.scores.research} / 4</span>
                </div>
            `;
            document.getElementById('view-sections').innerHTML = sectionsHtml;
            
            // Additional data
            document.getElementById('view-bulls').textContent = assessment.additionalData.bulls || 'N/A';
            document.getElementById('view-cows').textContent = assessment.additionalData.cows || 'N/A';
            document.getElementById('view-farmers').textContent = assessment.additionalData.farmers || 'N/A';
            document.getElementById('view-publications').textContent = assessment.additionalData.publications || 'N/A';
        }

        function backToAssessmentList() {
            document.getElementById('assessments-list').style.display = 'block';
            document.getElementById('view-detail').style.display = 'none';
            currentViewAssessment = null;
        }

        function loadAssessmentForEdit() {
            if (!currentViewAssessment) return;
            
            // Load assessment data into form
            document.getElementById('dairy-evaluator').value = currentViewAssessment.evaluator || '';
            document.getElementById('dairy-date').value = currentViewAssessment.date || '';
            document.getElementById('dairy-country').value = currentViewAssessment.country || '';
            document.getElementById('dairy-breed').value = currentViewAssessment.breed || '';
            
            // Load scores
            document.getElementById('dairy-gov-1').value = currentViewAssessment.scores.governance1;
            document.getElementById('dairy-gov-2').value = currentViewAssessment.scores.governance2;
            document.getElementById('dairy-pop-1').value = currentViewAssessment.scores.population;
            document.getElementById('dairy-rec-1').value = currentViewAssessment.scores.recording;
            document.getElementById('dairy-sel-1').value = currentViewAssessment.scores.selection;
            document.getElementById('dairy-repro-1').value = currentViewAssessment.scores.repro;
            document.getElementById('dairy-health-1').value = currentViewAssessment.scores.health;
            document.getElementById('dairy-diss-1').value = currentViewAssessment.scores.dissemination;
            document.getElementById('dairy-partner-1').value = currentViewAssessment.scores.partnerships;
            document.getElementById('dairy-progress-1').value = currentViewAssessment.scores.progress;
            document.getElementById('dairy-research-1').value = currentViewAssessment.scores.research;
            
            // Load additional data
            document.getElementById('dairy-bulls').value = currentViewAssessment.additionalData.bulls || '';
            document.getElementById('dairy-cows').value = currentViewAssessment.additionalData.cows || '';
            document.getElementById('dairy-farmers').value = currentViewAssessment.additionalData.farmers || '';
            document.getElementById('dairy-publications').value = currentViewAssessment.additionalData.publications || '';
            
            // Update displays
            updateScoreDisplay('dairy-gov-1', currentViewAssessment.scores.governance1);
            updateScoreDisplay('dairy-gov-2', currentViewAssessment.scores.governance2);
            updateScoreDisplay('dairy-pop-1', currentViewAssessment.scores.population);
            updateScoreDisplay('dairy-rec-1', currentViewAssessment.scores.recording);
            updateScoreDisplay('dairy-sel-1', currentViewAssessment.scores.selection);
            updateScoreDisplay('dairy-repro-1', currentViewAssessment.scores.repro);
            updateScoreDisplay('dairy-health-1', currentViewAssessment.scores.health);
            updateScoreDisplay('dairy-diss-1', currentViewAssessment.scores.dissemination);
            updateScoreDisplay('dairy-partner-1', currentViewAssessment.scores.partnerships);
            updateScoreDisplay('dairy-progress-1', currentViewAssessment.scores.progress);
            updateScoreDisplay('dairy-research-1', currentViewAssessment.scores.research);
            
            updateDairyScores();
            
            // Switch to assessment tab
            loadSpecies('dairy');
            showTab('assessment');
        }

        function deleteCurrentAssessment() {
            if (!currentViewAssessment) return;
            
            if (!confirm('Are you sure you want to delete this assessment? This action cannot be undone.')) {
                return;
            }
            
            let allAssessments = JSON.parse(localStorage.getItem('ilri_all_assessments') || '[]');
            allAssessments = allAssessments.filter(a => a.id !== currentViewAssessment.id);
            localStorage.setItem('ilri_all_assessments', JSON.stringify(allAssessments));
            
            alert('‚úì Assessment deleted successfully!');
            backToAssessmentList();
            loadAssessmentsList();
        }

        function exportJSON() {
            const data = localStorage.getItem('ilri_dairy_assessment');
            if (data) {
                const blob = new Blob([data], { type: 'application/json' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `ILRI_Assessment_${new Date().toISOString().split('T')[0]}.json`;
                a.click();
                alert('‚úì Data exported!');
            } else {
                alert('‚ö† No assessment data found. Please complete an assessment first.');
            }
        }

        function exportExcel() {
            alert('Excel export functionality - integrate with xlsx library or use your existing export code');
        }

        function updatePoultryScores() {
            // Sync dropdowns with sliders
            const gov1Select = document.getElementById('poultry-gov-1-select');
            const gov1Slider = document.getElementById('poultry-gov-1');
            if (gov1Select && gov1Slider) {
                gov1Slider.value = gov1Select.value;
                updateScoreDisplay('poultry-gov-1', gov1Select.value);
            }

            const gov2Select = document.getElementById('poultry-gov-2-select');
            const gov2Slider = document.getElementById('poultry-gov-2');
            if (gov2Select && gov2Slider) {
                gov2Slider.value = gov2Select.value;
                updateScoreDisplay('poultry-gov-2', gov2Select.value);
            }

            const rec1Select = document.getElementById('poultry-rec-1-select');
            const rec1Slider = document.getElementById('poultry-rec-1');
            if (rec1Select && rec1Slider) {
                rec1Slider.value = rec1Select.value;
                updateScoreDisplay('poultry-rec-1', rec1Select.value);
            }

            const sel1Select = document.getElementById('poultry-sel-1-select');
            const sel1Slider = document.getElementById('poultry-sel-1');
            if (sel1Select && sel1Slider) {
                sel1Slider.value = sel1Select.value;
                updateScoreDisplay('poultry-sel-1', sel1Select.value);
            }

            const repro1Select = document.getElementById('poultry-repro-1-select');
            const repro1Slider = document.getElementById('poultry-repro-1');
            if (repro1Select && repro1Slider) {
                repro1Slider.value = repro1Select.value;
                updateScoreDisplay('poultry-repro-1', repro1Select.value);
            }

            const health1Select = document.getElementById('poultry-health-1-select');
            const health1Slider = document.getElementById('poultry-health-1');
            if (health1Select && health1Slider) {
                health1Slider.value = health1Select.value;
                updateScoreDisplay('poultry-health-1', health1Select.value);
            }

            const partner1Select = document.getElementById('poultry-partner-1-select');
            const partner1Slider = document.getElementById('poultry-partner-1');
            if (partner1Select && partner1Slider) {
                partner1Slider.value = partner1Select.value;
                updateScoreDisplay('poultry-partner-1', partner1Select.value);
            }

            const progress1Select = document.getElementById('poultry-progress-1-select');
            const progress1Slider = document.getElementById('poultry-progress-1');
            if (progress1Select && progress1Slider) {
                progress1Slider.value = progress1Select.value;
                updateScoreDisplay('poultry-progress-1', progress1Select.value);
            }

            const scores = [
                parseFloat(document.getElementById('poultry-gov-1')?.value || 0),
                parseFloat(document.getElementById('poultry-gov-2')?.value || 0),
                parseFloat(document.getElementById('poultry-pop-1')?.value || 0),
                parseFloat(document.getElementById('poultry-rec-1')?.value || 0),
                parseFloat(document.getElementById('poultry-sel-1')?.value || 0),
                parseFloat(document.getElementById('poultry-repro-1')?.value || 0),
                parseFloat(document.getElementById('poultry-health-1')?.value || 0),
                parseFloat(document.getElementById('poultry-diss-1')?.value || 0),
                parseFloat(document.getElementById('poultry-partner-1')?.value || 0),
                parseFloat(document.getElementById('poultry-progress-1')?.value || 0),
                parseFloat(document.getElementById('poultry-research-1')?.value || 0)
            ];

            const weights = [0.08, 0.08, 0.12, 0.15, 0.15, 0.10, 0.12, 0.15, 0.08, 0.10, 0.05];
            
            let totalScore = 0;
            for (let i = 0; i < Math.min(scores.length, weights.length); i++) {
                totalScore += (scores[i] / 4) * (weights[i] * 100);
            }

            totalScore = (totalScore / 1.18);

            document.getElementById('poultry-total').textContent = totalScore.toFixed(1);
            document.getElementById('results-total').textContent = totalScore.toFixed(1);
            
            let status = 'Developing';
            if (totalScore >= 85) status = 'Mature';
            else if (totalScore >= 70) status = 'Functional';
            else if (totalScore >= 50) status = 'Pilot';
            
            document.getElementById('poultry-status').textContent = status;
            document.getElementById('results-status').textContent = status;

            const completed = scores.filter(s => s > 0).length;
            document.getElementById('poultry-completion').textContent = Math.round((completed / scores.length) * 100) + '%';

            if (charts.results) {
                const sectionScores = [
                    (scores[0] + scores[1]) / 2,
                    scores[2],
                    scores[3],
                    scores[4],
                    scores[5],
                    scores[6],
                    scores[7],
                    scores[8],
                    scores[9],
                    scores[10]
                ];
                charts.results.data.datasets[0].data = sectionScores;
                charts.results.data.datasets[0].backgroundColor = 'rgba(237, 125, 49, 0.2)';
                charts.results.data.datasets[0].borderColor = 'rgba(237, 125, 49, 1)';
                charts.results.data.datasets[0].pointBackgroundColor = 'rgba(237, 125, 49, 1)';
                charts.results.update();
            }
        }

        function savePoultryAssessment() {
            const scores = [
                parseFloat(document.getElementById('poultry-gov-1')?.value || 0),
                parseFloat(document.getElementById('poultry-gov-2')?.value || 0),
                parseFloat(document.getElementById('poultry-pop-1')?.value || 0),
                parseFloat(document.getElementById('poultry-rec-1')?.value || 0),
                parseFloat(document.getElementById('poultry-sel-1')?.value || 0),
                parseFloat(document.getElementById('poultry-repro-1')?.value || 0),
                parseFloat(document.getElementById('poultry-health-1')?.value || 0),
                parseFloat(document.getElementById('poultry-diss-1')?.value || 0),
                parseFloat(document.getElementById('poultry-partner-1')?.value || 0),
                parseFloat(document.getElementById('poultry-progress-1')?.value || 0),
                parseFloat(document.getElementById('poultry-research-1')?.value || 0)
            ];

            const weights = [0.08, 0.08, 0.12, 0.15, 0.15, 0.10, 0.12, 0.15, 0.08, 0.10, 0.05];
            let totalScore = 0;
            for (let i = 0; i < Math.min(scores.length, weights.length); i++) {
                totalScore += (scores[i] / 4) * (weights[i] * 100);
            }
            totalScore = (totalScore / 1.18);

            let status = 'Developing';
            if (totalScore >= 85) status = 'Mature';
            else if (totalScore >= 70) status = 'Functional';
            else if (totalScore >= 50) status = 'Pilot';

            const data = {
                program: 'African Chicken Genetics',
                evaluator: document.getElementById('poultry-evaluator').value,
                date: document.getElementById('poultry-date').value,
                country: document.getElementById('poultry-country').value,
                breed: document.getElementById('poultry-breed').value,
                timestamp: new Date().toISOString(),
                totalScore: totalScore.toFixed(1),
                status: status,
                scores: {
                    governance1: scores[0],
                    governance2: scores[1],
                    population: scores[2],
                    recording: scores[3],
                    selection: scores[4],
                    repro: scores[5],
                    health: scores[6],
                    dissemination: scores[7],
                    partnerships: scores[8],
                    progress: scores[9],
                    research: scores[10]
                },
                additionalData: {
                    males: document.getElementById('poultry-males').value || 0,
                    females: document.getElementById('poultry-females').value || 0,
                    farmers: document.getElementById('poultry-farmers').value || 0,
                    publications: document.getElementById('poultry-publications').value || 0
                }
            };
            
            // Get all saved assessments
            let allAssessments = JSON.parse(localStorage.getItem('ilri_all_assessments') || '[]');
            
            // Add new assessment with unique ID
            data.id = Date.now();
            allAssessments.push(data);
            
            // Save back to localStorage
            localStorage.setItem('ilri_all_assessments', JSON.stringify(allAssessments));
            localStorage.setItem('ilri_poultry_assessment', JSON.stringify(data));
            
            alert('‚úì Poultry Assessment saved successfully!');
            loadAssessmentsList();
        }
    </script>

<script>
document.addEventListener("DOMContentLoaded", function() {
  document.querySelectorAll("select, input[type='range']").forEach(function(el){
    el.disabled = false;
    el.style.pointerEvents = "auto";
  });
});
</script>

<script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>

<script>
(function(){
  window.getCurrentSpecies = function(){
    const ids = ['dairy','poultry','small-ruminant','beef'];
    for (const s of ids){
      const blk = document.getElementById(`${s}-assessment`);
      if (blk && blk.style.display === 'block') return s;
    }
    return (typeof currentSpecies !== 'undefined' && currentSpecies) ? currentSpecies : 'dairy';
  };
  window.kvFromInputs = function(root){
    const data = {};
    if (!root) return data;
    const elements = root.querySelectorAll("input, select, textarea");
    elements.forEach(el => {
      if (!el.id) return;
      let labelText = '';
      const label = root.querySelector(`label[for='${el.id}']`) || el.closest('.question-card')?.querySelector('.question-label');
      if (label) labelText = label.textContent.trim();
      const key = labelText ? `${labelText} [${el.id}]` : el.id;
      let val = el.value;
      if (el.type === 'checkbox') val = el.checked;
      data[key] = val;
    });
    return data;
  };
  window.collectCurrentAssessment = function(){
    const species = getCurrentSpecies();
    const container = document.getElementById(`${species}-assessment`) || document;
    const meta = {};
    [`${species}-evaluator`,`${species}-date`,`${species}-country`,`${species}-breed`,
     `${species}-bulls`, `${species}-cows`, `${species}-farmers`, `${species}-publications`].forEach(id => {
      const el = container.querySelector(`#${id}`);
      if (el) meta[id] = el.value;
    });
    const all = kvFromInputs(container);
    return { program: species, meta, answers: all };
  };
  function tryParse(s){ try { return JSON.parse(s); } catch(e){ return null; } }
  window.collectSavedAssessments = function(){
    const out = [];
    const arr = tryParse(localStorage.getItem('assessments')) || tryParse(localStorage.getItem('ilri_assessments'));
    if (Array.isArray(arr)) out.push(...arr);
    for (let i=0; i<localStorage.length; i++){
      const k = localStorage.key(i);
      if (/^(assessment|ilri_assessment)[:_]/i.test(k)){
        const obj = tryParse(localStorage.getItem(k)); if (obj) out.push(obj);
      }
    }
    return out;
  };
  window.exportJSON = function(){
    const payload = { exported_at:new Date().toISOString(), current: collectCurrentAssessment(), saved: collectSavedAssessments() };
    const blob = new Blob([JSON.stringify(payload, null, 2)], {type:'application/json'});
    const url = URL.createObjectURL(blob); const a = document.createElement('a'); a.href=url; a.download='ilri-assessment-export.json';
    document.body.appendChild(a); a.click(); document.body.removeChild(a); URL.revokeObjectURL(url);
  };
  window.exportExcel = function(){
    if (typeof XLSX === 'undefined'){ alert('Excel exporter not loaded.'); return; }
    const wb = XLSX.utils.book_new();
    const cur = collectCurrentAssessment();
    const rows = Object.entries({ Program: cur.program, ...cur.meta }).map(([k,v])=>({Field:k, Value:v}));
    for (const [k,v] of Object.entries(cur.answers)) rows.push({Field:k, Value:v});
    const ws = XLSX.utils.json_to_sheet(rows);
    XLSX.utils.book_append_sheet(wb, ws, 'Data');
    XLSX.writeFile(wb, 'ilri-assessment-export.xlsx');
  };
})();
</script>


<script>
(function(){
  if (!window._excelEnhancementsInjected){
    window._excelEnhancementsInjected = true;
    window.exportExcel = function(){
      if (typeof XLSX === 'undefined'){ alert('Excel exporter not loaded.'); return; }
      function getText(id){ const el = document.getElementById(id); return el ? (el.textContent||'').trim() : ''; }
      function currentProgram(){
        const ids = ['dairy','poultry','small-ruminant','beef'];
        for (const s of ids){ const blk = document.getElementById(`${s}-assessment`); if (blk && blk.style.display==='block') return s; }
        return (typeof currentSpecies !== 'undefined' && currentSpecies) ? currentSpecies : 'dairy';
      }
      function collectMeta(sp){
        const o={}; ['evaluator','date','country','breed'].forEach(k=>{ const el=document.getElementById(`${sp}-${k}`); if(el) o[k]=el.value; });
        return o;
      }
      function sectionScoreRows(sp){
        const block=document.getElementById(`${sp}-assessment`); const rows=[]; if(!block) return rows;
        block.querySelectorAll('.question-card').forEach((qc, idx)=>{
          if (qc.closest('#'+sp+'-framework-10')==null) return; // only our 10-criteria
          const label = qc.querySelector('.question-label')?.textContent?.trim() || `Question ${idx+1}`;
          const select = qc.querySelector('select'); const level = select ? select.options[select.selectedIndex].text : '';
          const slider = qc.querySelector("input[type='range']"); const score = slider ? slider.value : '';
          rows.push({ SectionItem: label, SelectedLevel: level, Score0to4: score });
        });
        return rows;
      }
      const wb = XLSX.utils.book_new();
      const sp = currentProgram(); const meta = collectMeta(sp);
      const total = getText(`${sp}-total`) || getText('results-total') || ''; const status = getText(`${sp}-status`) || getText('results-status') || '';
      const completion = getText(`${sp}-completion`) || '';

      const summaryRows = [
        {Field:'Program', Value: sp.toUpperCase()}, {Field:'Evaluator', Value: meta.evaluator||''},
        {Field:'Date', Value: meta.date||''}, {Field:'Country', Value: meta.country||''}, {Field:'Breed/Line', Value: meta.breed||''},
        {Field:'Total Score (/100)', Value: total}, {Field:'Status', Value: status}, {Field:'Completion', Value: completion},
        {Field:'Exported At', Value: new Date().toISOString()}
      ];
      const wsSummary = XLSX.utils.json_to_sheet(summaryRows); wsSummary['!cols']=[{wch:26},{wch:34}]; wsSummary['!autofilter']={ref:'A1:B9'};
      XLSX.utils.book_append_sheet(wb, wsSummary, 'Summary');

      const curr = window.collectCurrentAssessment ? window.collectCurrentAssessment() : {program: sp, meta, answers:{}};
      const kvRows = Object.entries({Program: curr.program, ...curr.meta}).map(([k,v])=>({Field:k, Value:v}));
      if (curr.answers) for (const [k,v] of Object.entries(curr.answers)) kvRows.push({Field:k, Value:v});
      const wsCurrent = XLSX.utils.json_to_sheet(kvRows); wsCurrent['!cols']=[{wch:60},{wch:36}];
      wsCurrent['!autofilter'] = {ref:`A1:B${kvRows.length+1}`}; XLSX.utils.book_append_sheet(wb, wsCurrent, 'Responses');

      const sectionRows = sectionScoreRows(sp);
      if (sectionRows.length){ const wsSection = XLSX.utils.json_to_sheet(sectionRows); wsSection['!cols']=[{wch:70},{wch:40},{wch:14}];
        wsSection['!autofilter']={ref:`A1:C${sectionRows.length+1}`}; XLSX.utils.book_append_sheet(wb, wsSection, 'Section Scores'); }

      const results = [{Total: total, Status: status, Completion: completion}];
      const wsResults = XLSX.utils.json_to_sheet(results); wsResults['!cols']=[{wch:14},{wch:18},{wch:14}];
      XLSX.utils.book_append_sheet(wb, wsResults, 'Results');

      XLSX.writeFile(wb, 'ilri-assessment-export.xlsx');
    };
  }
})();
</script>


<style>
#print-report { display:none; padding: 30px; font-family: 'Inter', -apple-system, sans-serif; }
#print-report h1 { font-size: 28px; margin-bottom: 6px; }
#print-report h2 { font-size: 20px; margin-top: 24px; margin-bottom: 10px; }
#print-report .meta { display:grid; grid-template-columns: 1fr 1fr; gap: 8px 16px; margin: 10px 0 16px; }
#print-report .meta div { padding: 6px 8px; border:1px solid #e5e7eb; border-radius: 8px; }
#print-report table { width:100%; border-collapse: collapse; margin-top: 8px; }
#print-report th, #print-report td { border:1px solid #e5e7eb; padding: 8px; text-align:left; }
#print-report th { background:#f3f4f6; }

@media print {
  body * { visibility: hidden !important; }
  #print-report, #print-report * { visibility: visible !important; }
  #print-report { display:block !important; position:absolute; left:0; top:0; width:100%; }
}
</style>
<div id="print-report">
  <div id="print-header">
    <h1>ILRI Livestock Genetics Assessment</h1>
    <div>Professional Breeding Program Evaluation</div>
  </div>
  <h2>Summary</h2>
  <div class="meta" id="print-meta"></div>
  <h2>Overall Scores</h2>
  <table>
    <tbody id="print-overall"></tbody>
  </table>
  <h2>Section Scores</h2>
  <table>
    <thead><tr><th>Question</th><th>Selected Option</th><th>Score (0‚Äì4)</th></tr></thead>
    <tbody id="print-sections"></tbody>
  </table>
</div>


<script>
(function(){
  function speciesNow(){
    const ids=['dairy','poultry','small-ruminant','beef'];
    for (const s of ids){ const blk=document.getElementById(`${s}-assessment`); if (blk && blk.style.display==='block') return s; }
    return (typeof currentSpecies!=='undefined'&&currentSpecies)?currentSpecies:'dairy';
  }
  function textById(id){ const el=document.getElementById(id); return el ? (el.textContent||'').trim() : ''; }
  function valById(id){ const el=document.getElementById(id); return el ? el.value : ''; }
  function buildRows(sp){
    const blk=document.getElementById(`${sp}-assessment`); const rows=[]; if (!blk) return rows;
    blk.querySelectorAll(`#${sp}-framework-10 .question-card`).forEach((qc,i)=>{
      const q = qc.querySelector('.question-label')?.textContent?.trim() || `Question ${i+1}`;
      const sel = qc.querySelector('select'); const level = sel ? sel.options[sel.selectedIndex].text : '';
      const sld = qc.querySelector("input[type='range']"); const score = sld ? sld.value : '';
      rows.push({q,level,score});
    });
    return rows;
  }
  window.renderReport = function(){
    const sp=speciesNow();
    const meta = {
      Program: sp.toUpperCase(),
      Evaluator: valById(`${sp}-evaluator`),
      Date: valById(`${sp}-date`),
      Country: valById(`${sp}-country`),
      'Breed/Line': valById(`${sp}-breed`)
    };
    const total = textById(`${sp}-total`) || textById('results-total') || '';
    const status = textById(`${sp}-status`) || textById('results-status') || '';
    const completion = textById(`${sp}-completion`) || '';

    const metaBox=document.getElementById('print-meta'); metaBox.innerHTML='';
    Object.entries(meta).forEach(([k,v])=>{ const d=document.createElement('div'); d.innerHTML=`<strong>${k}:</strong> ${v||'-'}`; metaBox.appendChild(d); });

    const overall=document.getElementById('print-overall'); overall.innerHTML='';
    [['Total Score (/100)', total], ['Status', status], ['Completion', completion]].forEach(([k,v])=>{
      const tr=document.createElement('tr'); tr.innerHTML=`<th style="width:260px">${k}</th><td>${v||'-'}</td>`; overall.appendChild(tr);
    });

    const tbody=document.getElementById('print-sections'); tbody.innerHTML='';
    buildRows(sp).forEach(r=>{ const tr=document.createElement('tr'); tr.innerHTML=`<td>${r.q}</td><td>${r.level||'-'}</td><td>${r.score||'-'}</td>`; tbody.appendChild(tr); });
  };
  function hookPdf(){
    const btns=Array.from(document.querySelectorAll('button'));
    const b=btns.find(x=>/Generate PDF/i.test(x.textContent||''));
    if (b){ b.onclick=function(){ window.renderReport(); window.print(); return false; }; }
  }
  if (document.readyState==='loading'){ document.addEventListener('DOMContentLoaded', hookPdf); } else { hookPdf(); }
})();
</script>


<script>
(function(){
  const RUBRIC = [
    {v:0,t:'0 - Not present / no evidence'},
    {v:1,t:'1 - Minimal / ad-hoc / undocumented'},
    {v:2,t:'2 - Basic / partial / inconsistent'},
    {v:3,t:'3 - Functional / documented / mostly consistent'},
    {v:4,t:'4 - Advanced / optimized / audited & monitored'}
  ];
  const POULTRY_10 = [
    { key:'poultry-1', title:'Governance & Resourcing', desc:'Goals for layers/broilers; roles; budget; SOPs; reviews' },
    { key:'poultry-2', title:'Identification & Core Recording', desc:'Flock/batch ID; mortality/culls; traceability' },
    { key:'poultry-3', title:'Productivity & Trait Recording', desc:'Layers: eggs, quality; Broilers: growth, FCR, livability' },
    { key:'poultry-4', title:'Fertility, Hatchability & Chick Quality', desc:'Fertility%, hatchability, incubator calibration, hygiene' },
    { key:'poultry-5', title:'Data System & Quality Assurance', desc:'Digital capture; validation; QC reports; backups' },
    { key:'poultry-6', title:'Genetic Evaluation & Diversity Control', desc:'BLUP/genomics; EBVs; inbreeding/diversity; trends' },
    { key:'poultry-7', title:'Selection, Culling & Reproductive Tech', desc:'Selection/culling; M:F ratios; AI/controlled mating; traceability' },
    { key:'poultry-8', title:'Health, Biosecurity & Welfare', desc:'Vaccines; surveillance; quarantine; sanitation; welfare' },
    { key:'poultry-9', title:'Feed, Water & Environmental Mgmt', desc:'Feed formulation/quality; FCR; water tests; housing/ventilation/waste' },
    { key:'poultry-10', title:'Farmer Engagement & Impact', desc:'Training; feedback; gender/youth; adoption & impact' }
  ];
  const DAIRY_10 = [
    { key:'dairy-1', title:'Governance, Policy & Resourcing', desc:'Goals aligned to strategy; roles; budget; compliance; stakeholders' },
    { key:'dairy-2', title:'Animal ID & Core Recording', desc:'Unique IDs; births/weights/health/services/calvings' },
    { key:'dairy-3', title:'Milk & Fertility Recording Quality', desc:'Milk test-day; composition; heat/service/conception/calving' },
    { key:'dairy-4', title:'Data System & Quality Control', desc:'Digital/mobile capture; standardized protocols; QC; backups' },
    { key:'dairy-5', title:'Genetic Evaluation & EBV Quality', desc:'Models; frequency; EBV reliability; trend validation; reporting' },
    { key:'dairy-6', title:'Selection & Dissemination Pathway', desc:'Indices to goals; ranking; gain monitoring; nucleus/multiplier; dissemination' },
    { key:'dairy-7', title:'Reproductive Technologies & Traceability', desc:'AI/ET/IVF; mating & conception data; semen/embryo traceability; biosecurity' },
    { key:'dairy-8', title:'Health, Biosecurity & Welfare', desc:'Surveillance; vaccination; risk control; welfare; genetic‚Äìhealth' },
    { key:'dairy-9', title:'Population Management & Genetic Diversity', desc:'Defined pop & Ne; inbreeding control; diversity; replacement/conservation' },
    { key:'dairy-10', title:'Partnerships, M&E & Impact', desc:'NARS/private/university; KPIs; lessons; extension; adoption & impact' }
  ];

  function buildCard(color,item){
    const sid = `${item.key}-slider`, selid = `${item.key}-select`;
    return `<div class="question-card" style="border-left-color:${color}">
      <div class="question-label">${item.title}</div>
      <div class="question-sublabel">${item.desc}</div>
      <select class="form-select mb-3" id="${selid}">${RUBRIC.map(r=>`<option value="${r.v}">${r.t}</option>`).join('')}</select>
      <label>Score (0‚Äì4)</label>
      <input type="range" class="form-range" min="0" max="4" step="1" value="0" id="${sid}">
      <div class="score-display" id="display-${sid}">0 / 4</div>
    </div>`;
  }
  function computeTotals(species){
    const root = document.getElementById(`${species}-assessment`); if (!root) return;
    const sliders = root.querySelectorAll(`#${species}-framework-10 input[type='range']`);
    let sum=0; sliders.forEach(s=>sum+=Number(s.value||0));
    const total = Math.round(sum * 2.5); // 40 -> 100
    const status = total>=85?'Excellent': total>=70?'Good': total>=50?'Fair':'Poor';
    const tEl = root.querySelector(`#${species}-total`) || document.getElementById(`${species}-total`);
    const sEl = root.querySelector(`#${species}-status`) || document.getElementById(`${species}-status`);
    if (tEl) tEl.textContent = String(total); if (sEl) sEl.textContent = status;
    const resTotal=document.getElementById('results-total'), resStatus=document.getElementById('results-status');
    if (resTotal) resTotal.textContent=String(total); if (resStatus) resStatus.textContent=status;
  }
  function inject(species){
    const cfg = species==='poultry'? POULTRY_10 : DAIRY_10;
    const color = getComputedStyle(document.documentElement).getPropertyValue(species==='poultry'?'--poultry-color':'--dairy-color').trim();
    const root = document.getElementById(`${species}-assessment`); if (!root) return;
    // Hide old content (cards & headers)
    root.querySelectorAll('.assessment-section-header, .question-card').forEach(el=>el.style.display='none');
    // Find meta block and insert our framework after it
    const meta = root.querySelector("div[style*='background: #f8f9fa']") || root;
    const wrap = document.createElement('div'); wrap.id = `${species}-framework-10`;
    wrap.innerHTML = `<div class="assessment-section-header" style="background:${color}">${species.charAt(0).toUpperCase()+species.slice(1)} ‚Äî 10 Criteria</div>`
                     + cfg.map(it=>buildCard(color,it)).join('');
    meta.insertAdjacentElement('afterend', wrap);
    // Sync select<->slider
    cfg.forEach(it => {
      const sel = root.querySelector(`#${it.key}-select`);
      const sld = root.querySelector(`#${it.key}-slider`);
      const disp = root.querySelector(`#display-${it.key}-slider`);
      const sync = () => { sld.value = sel.value; disp.textContent = `${sld.value} / 4`; computeTotals(species); };
      sel.addEventListener('change', sync);
      sld.addEventListener('input', () => { sel.value = sld.value; disp.textContent = `${sld.value} / 4`; computeTotals(species); });
    });
    computeTotals(species);
  }
  document.addEventListener('DOMContentLoaded', function(){
    inject('dairy'); inject('poultry');
  });
  const _ls = window.loadSpecies;
  window.loadSpecies = function(sp){ if (typeof _ls==='function') _ls(sp); setTimeout(()=>{ if(!document.getElementById(`${sp}-framework-10`)) inject(sp); computeTotals(sp); },0); };
})();
</script>


<!-- Evaluation Guide Tab -->
<div id="evaluation-guide" style="display:none; padding: 16px;">
  <h2>Comprehensive Evaluation Guide</h2>
  <p style="margin-bottom: 24px;">This guide provides detailed, species-specific criteria for evaluating Dairy and Poultry breeding programs. Each criterion includes what to observe, key questions to ask, documents to review, and scoring guidance.</p>
  
  <div class="accordion" id="evalGuideAccordion">

  <!-- DAIRY EVALUATION GUIDE -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingDairy">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDairy" aria-expanded="true" aria-controls="collapseDairy">
        üêÑ DAIRY CATTLE ‚Äì Comprehensive Evaluation Guide (10 Criteria)
      </button>
    </h2>
    <div id="collapseDairy" class="accordion-collapse collapse show" aria-labelledby="headingDairy" data-bs-parent="#evalGuideAccordion">
      <div class="accordion-body">

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 24px;">
  <h4 style="color: var(--dairy-color); margin-bottom: 12px;">How to Use This Guide</h4>
  <p>For each criterion, review the <strong>What to Observe</strong>, ask the <strong>Key Questions</strong>, examine the <strong>Documents</strong>, and use the <strong>Scoring Guide</strong> to assign a score from 0-4.</p>
</div>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">1. Governance & Resourcing</h4>
<p><strong>Purpose:</strong> Assess organizational structure, strategic planning, resource allocation, and operational frameworks.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Documented breeding objectives aligned with national dairy development strategy and market demands</li>
  <li>Clear organizational structure with defined roles, responsibilities, and reporting lines</li>
  <li>Functional breeding committee or advisory board with regular meetings</li>
  <li>Budget allocation for breeding activities with evidence of multi-year funding sustainability</li>
  <li>Standard Operating Procedures (SOPs) for key breeding activities</li>
  <li>Decision-making processes documented with meeting minutes and action logs</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What are the specific breeding objectives and how were they determined?</li>
  <li>Who is responsible for breeding decisions and what is their qualification?</li>
  <li>How is the breeding program funded and what is the budget allocation process?</li>
  <li>How often does the breeding committee meet and review progress?</li>
  <li>What SOPs exist and when were they last updated?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Strategic breeding plan or policy document</li>
  <li>Organizational chart and job descriptions</li>
  <li>Breeding committee meeting minutes (last 12 months)</li>
  <li>Annual budget documents and financial reports</li>
  <li>Standard Operating Procedures manual</li>
  <li>National livestock policy documents</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Comprehensive strategic plan aligned with national policy, well-defined organizational structure, regular committee meetings, sustainable funding, complete SOPs documented and followed</li>
  <li><strong>3 (Good):</strong> Strategic plan exists with clear objectives, organizational structure defined, committee meets regularly, budget allocated but sustainability uncertain, most SOPs documented</li>
  <li><strong>2 (Fair):</strong> Basic objectives stated, organizational structure unclear, irregular committee meetings, inadequate budget, few SOPs documented</li>
  <li><strong>1 (Poor):</strong> Vague objectives, no clear organizational structure, no committee, minimal budget, no SOPs</li>
  <li><strong>0 (Critical):</strong> No strategic plan, no organizational structure, no governance, no dedicated resources</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">2. Identification & Core Recording</h4>
<p><strong>Purpose:</strong> Evaluate the system for uniquely identifying animals and recording essential life events.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Unique identification system for all animals (ear tags, tattoos, or electronic ID)</li>
  <li>Consistency and permanence of identification methods</li>
  <li>Birth registration protocol with dam, sire, and date recorded</li>
  <li>Weight recording at key life stages (birth, weaning, yearling, maturity)</li>
  <li>Health event recording (vaccinations, diseases, treatments)</li>
  <li>Service and breeding event documentation</li>
  <li>Calving records with calving ease and birth weights</li>
  <li>Traceability from birth to culling/death</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What identification system is used and how is it applied?</li>
  <li>What percentage of animals have complete identification records?</li>
  <li>How are births registered and how quickly after birth?</li>
  <li>What life events are recorded as standard practice?</li>
  <li>Who is responsible for recording and how is accuracy verified?</li>
  <li>What happens when an animal loses its identification?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Herd register or animal inventory</li>
  <li>Sample birth certificates or registration forms</li>
  <li>Weight recording sheets or database printouts</li>
  <li>Health treatment records</li>
  <li>Breeding records showing service dates and sires</li>
  <li>Calving records with calving ease scores</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> 100% of animals have permanent unique ID, all births registered within 48 hours, complete recording of weights, health, breeding and calving events, electronic database with full traceability</li>
  <li><strong>3 (Good):</strong> >95% animals properly identified, most births registered promptly, regular weight recording, systematic health and breeding records, good traceability</li>
  <li><strong>2 (Fair):</strong> 80-95% animals identified, inconsistent birth registration, irregular weight recording, basic health and breeding records, partial traceability</li>
  <li><strong>1 (Poor):</strong> <80% animals identified, many unregistered births, minimal weight recording, poor health and breeding records, limited traceability</li>
  <li><strong>0 (Critical):</strong> No systematic identification, no birth registration, no weight records, no health or breeding records</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">3. Productivity & Trait Recording</h4>
<p><strong>Purpose:</strong> Assess recording systems for economically important production traits.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Milk recording system and frequency (daily, weekly, monthly test-day)</li>
  <li>Recording of milk yield (kg or liters) with accurate measurement equipment</li>
  <li>Milk composition analysis (fat %, protein %, SCC if available)</li>
  <li>Lactation length and dry period documentation</li>
  <li>Fertility trait recording: heat detection, service dates, conception status</li>
  <li>Calving interval calculation and monitoring</li>
  <li>Age at first calving documentation</li>
  <li>Body condition scoring at key stages</li>
  <li>Longevity and survival recording</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>How often is milk yield recorded and by what method?</li>
  <li>What milk components are analyzed and how frequently?</li>
  <li>What is the average milk recording rate (% of lactations recorded)?</li>
  <li>How are fertility events identified and recorded?</li>
  <li>What is the average calving interval in the herd?</li>
  <li>Are there protocols for body condition scoring?</li>
  <li>How is data quality monitored?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Milk recording sheets or database reports</li>
  <li>Laboratory test results for milk composition</li>
  <li>Lactation curves and summary statistics</li>
  <li>Fertility reports showing conception rates and calving intervals</li>
  <li>Body condition score records</li>
  <li>Annual production summaries by animal</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Monthly or more frequent test-day recording with >90% coverage, milk components analyzed regularly, complete fertility recording with calving intervals <400 days on average, body condition scores recorded, comprehensive database</li>
  <li><strong>3 (Good):</strong> Regular test-day recording (bi-monthly) with 70-90% coverage, periodic milk composition analysis, systematic fertility recording, calving intervals 400-450 days, some body condition data</li>
  <li><strong>2 (Fair):</strong> Irregular milk recording (<70% coverage), occasional milk composition analysis, incomplete fertility records, calving intervals 450-500 days, minimal body condition scoring</li>
  <li><strong>1 (Poor):</strong> Infrequent milk recording (<50% coverage), no milk composition analysis, poor fertility recording, calving intervals >500 days, no body condition scoring</li>
  <li><strong>0 (Critical):</strong> No systematic milk recording, no fertility monitoring, no productivity data available</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">4. Fertility & Reproductive Performance</h4>
<p><strong>Purpose:</strong> Evaluate reproductive efficiency and breeding management practices.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Heat detection methods and efficiency rates</li>
  <li>Service recording with sire identification and date</li>
  <li>Pregnancy diagnosis practices and timing</li>
  <li>Conception rates and services per conception</li>
  <li>Calving interval monitoring and management</li>
  <li>Days open (calving to conception) tracking</li>
  <li>Age at first service and first calving</li>
  <li>Calving ease scoring and dystocia rates</li>
  <li>Reproductive disease monitoring and management</li>
  <li>Bull/semen fertility testing and records</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What methods are used for heat detection and what is the detection rate?</li>
  <li>What is the average conception rate at first service?</li>
  <li>What is the average calving interval in the herd?</li>
  <li>When are heifers first bred and at what condition?</li>
  <li>How are reproductive problems identified and managed?</li>
  <li>What is the culling rate due to reproductive failure?</li>
  <li>Are bulls or semen batches tested for fertility?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Breeding records with service dates and sires</li>
  <li>Pregnancy diagnosis reports</li>
  <li>Fertility summary reports (conception rates, calving intervals)</li>
  <li>Calving records with ease scores</li>
  <li>Reproductive health treatment records</li>
  <li>Bull or semen fertility test results</li>
  <li>Culling records with reasons</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Effective heat detection (>80% rate), conception rates >60% at first service, calving interval <400 days, age at first calving <27 months, comprehensive reproductive health program, all services recorded with sire ID, bull/semen fertility tested</li>
  <li><strong>3 (Good):</strong> Good heat detection (60-80%), conception rates 50-60%, calving interval 400-450 days, age at first calving 27-30 months, systematic reproductive monitoring, most services recorded, some fertility testing</li>
  <li><strong>2 (Fair):</strong> Moderate heat detection (40-60%), conception rates 40-50%, calving interval 450-500 days, age at first calving 30-36 months, basic reproductive monitoring, incomplete service records, limited fertility testing</li>
  <li><strong>1 (Poor):</strong> Poor heat detection (<40%), conception rates <40%, calving interval >500 days, late first calving (>36 months), minimal reproductive monitoring, poor service records, no fertility testing</li>
  <li><strong>0 (Critical):</strong> No heat detection system, no reproductive monitoring, no service records, reproductive performance unknown</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">5. Data System & Quality Assurance</h4>
<p><strong>Purpose:</strong> Evaluate data management infrastructure, quality control, and security measures.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Type of database system (paper, spreadsheet, dedicated software)</li>
  <li>Data entry protocols and timing (real-time vs retrospective)</li>
  <li>Data validation rules and error checking mechanisms</li>
  <li>Data completeness and missing data rates</li>
  <li>Data accuracy verification procedures</li>
  <li>Backup systems and frequency</li>
  <li>Data security and access controls</li>
  <li>Staff training on data management</li>
  <li>Quality control reports and error correction procedures</li>
  <li>Mobile or digital data capture tools</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What database system or software is used for recording?</li>
  <li>How soon after events are data entered into the system?</li>
  <li>What validation checks are in place to prevent errors?</li>
  <li>What is the rate of missing or incomplete data?</li>
  <li>How often are data backed up and where are backups stored?</li>
  <li>Who has access to the data and are there security protocols?</li>
  <li>How are staff trained on data management?</li>
  <li>What quality control procedures exist?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Database system documentation or software manuals</li>
  <li>Data entry protocols and SOPs</li>
  <li>Data quality reports showing completeness and error rates</li>
  <li>Backup logs and disaster recovery plans</li>
  <li>Staff training records on data management</li>
  <li>Data validation rule documentation</li>
  <li>Sample database reports or queries</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Professional database software with mobile data capture, real-time or daily data entry, automated validation rules, <5% missing data, regular quality control audits, daily automated backups with off-site storage, secure access controls, comprehensive staff training</li>
  <li><strong>3 (Good):</strong> Digital database system, weekly data entry, basic validation checks, 5-10% missing data, monthly quality checks, weekly backups, password protection, staff trained on system</li>
  <li><strong>2 (Fair):</strong> Spreadsheet-based system, irregular data entry, minimal validation, 10-20% missing data, occasional quality checks, irregular backups, limited security, minimal staff training</li>
  <li><strong>1 (Poor):</strong> Paper-based with limited digital records, delayed data entry, no validation, >20% missing data, no quality control, no systematic backups, no security, no staff training</li>
  <li><strong>0 (Critical):</strong> No organized data system, no data entry protocols, no quality control, no backups, data frequently lost</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">6. Genetic Evaluation & Diversity Control</h4>
<p><strong>Purpose:</strong> Assess genetic evaluation methods, base population management, and genetic diversity monitoring.</p>

<h5>What to Observe:</h5>
<ul>
  <li><strong>BASE POPULATION:</strong> Origin, size, and genetic characterization of foundation stock</li>
  <li><strong>BASE POPULATION:</strong> Documentation of founder animals and their genetic background</li>
  <li><strong>BASE POPULATION:</strong> Breed composition and crossbreeding history</li>
  <li>Genetic evaluation model used (BLUP, genomic, etc.)</li>
  <li>Traits included in genetic evaluation (milk, fertility, health, etc.)</li>
  <li>Frequency of genetic evaluations and EBV updates</li>
  <li>Reliability (accuracy) of EBVs and reporting</li>
  <li>Genetic trends over time for key traits</li>
  <li>Effective population size (Ne) calculation and monitoring</li>
  <li>Inbreeding coefficient tracking at individual and population level</li>
  <li>Genetic diversity indices (heterozygosity, allelic diversity if available)</li>
  <li>Mating strategies to control inbreeding</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What is the origin and size of the base population?</li>
  <li>How was the base population established and characterized?</li>
  <li>What genetic evaluation model is used and by whom?</li>
  <li>How often are EBVs calculated and disseminated?</li>
  <li>What are the genetic trends for key traits over the last 5 years?</li>
  <li>What is the current effective population size?</li>
  <li>What is the average inbreeding coefficient in the herd?</li>
  <li>How is inbreeding controlled in mating decisions?</li>
  <li>Are there strategies to maintain genetic diversity?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Base population documentation (origin, acquisition records)</li>
  <li>Genetic evaluation methodology documentation</li>
  <li>EBV reports for bulls and cows</li>
  <li>Genetic trend graphs for key traits</li>
  <li>Pedigree database and completeness reports</li>
  <li>Inbreeding analysis reports</li>
  <li>Effective population size calculations</li>
  <li>Mating plan documentation</li>
  <li>Genetic diversity monitoring reports</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Well-documented base population with >100 effective founders, BLUP or genomic evaluations for multiple traits conducted at least annually, EBVs with reliabilities >0.50, positive genetic trends demonstrated, Ne >50, average inbreeding <5%, systematic mating to minimize inbreeding, genetic diversity actively monitored</li>
  <li><strong>3 (Good):</strong> Base population documented (50-100 founders), BLUP evaluations annually or bi-annually, EBVs calculated for key traits with moderate reliability (0.30-0.50), genetic trends tracked, Ne 30-50, inbreeding 5-10%, mating considers relatedness, diversity monitored periodically</li>
  <li><strong>2 (Fair):</strong> Base population partially documented (<50 founders), simple genetic evaluations (within-herd comparisons), irregular EBV calculations with low reliability (<0.30), some genetic trend information, Ne <30, inbreeding >10%, limited mating control, minimal diversity monitoring</li>
  <li><strong>1 (Poor):</strong> Base population poorly documented, no formal genetic evaluation, phenotypic selection only, no genetic trends available, Ne unknown, inbreeding not monitored, random mating, no diversity monitoring</li>
  <li><strong>0 (Critical):</strong> No base population information, no genetic evaluation, no selection program, severe inbreeding evident, no genetic management</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">7. Selection, Culling & Reproductive Technologies</h4>
<p><strong>Purpose:</strong> Evaluate selection strategies, breeding programs, and use of reproductive biotechnologies.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Selection index definition with trait weights aligned to breeding objectives</li>
  <li>Bull and cow ranking systems based on genetic merit</li>
  <li>Selection intensity and proportion selected as breeding animals</li>
  <li>Culling criteria and rates (voluntary and involuntary)</li>
  <li>Nucleus, multiplier, and commercial herd structure</li>
  <li>Artificial insemination (AI) program coverage and semen sources</li>
  <li>Embryo transfer (ET) or in vitro fertilization (IVF) usage</li>
  <li>Semen collection, processing, and storage facilities</li>
  <li>Semen and embryo distribution system</li>
  <li>Bull and donor cow screening and selection</li>
  <li>Progeny testing program if applicable</li>
  <li>Genetic gain monitoring</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What selection criteria are used for bulls and cows?</li>
  <li>How many bulls/cows are selected annually and from what pool?</li>
  <li>What are the main culling reasons and rates?</li>
  <li>What percentage of inseminations use AI vs natural service?</li>
  <li>Are reproductive technologies (ET, IVF, sexed semen) used?</li>
  <li>How are bulls selected for AI and how is semen distributed?</li>
  <li>Is there a nucleus herd and how is it managed?</li>
  <li>What genetic gain has been achieved in recent years?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Selection index formula and trait weights</li>
  <li>Bull and cow rankings with EBVs</li>
  <li>Selection and culling records</li>
  <li>AI program reports showing coverage</li>
  <li>Semen inventory and distribution records</li>
  <li>ET/IVF program documentation</li>
  <li>Bull pedigrees and performance data</li>
  <li>Genetic gain reports</li>
  <li>Nucleus herd management plan</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Multi-trait selection index well-defined, top 10% animals selected based on EBVs, systematic culling of bottom performers, AI coverage >80%, ET/IVF used strategically, own semen production or reliable source, nucleus-multiplier structure established, documented genetic gain >1% per year</li>
  <li><strong>3 (Good):</strong> Selection criteria defined, top 20% selected, culling based on performance, AI coverage 50-80%, some ET/IVF use, access to proven semen, pyramid structure emerging, genetic gain 0.5-1% per year</li>
  <li><strong>2 (Fair):</strong> Basic selection criteria, top 30% selected, irregular culling, AI coverage 20-50%, limited ET/IVF, variable semen quality, no clear structure, minimal genetic gain (<0.5%)</li>
  <li><strong>1 (Poor):</strong> Unclear selection criteria, >30% selected, minimal culling, AI coverage <20%, no ET/IVF, poor semen access, flat structure, no documented genetic gain</li>
  <li><strong>0 (Critical):</strong> No selection program, no culling strategy, no AI, no reproductive technologies, no genetic improvement</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">8. Health, Biosecurity & Welfare</h4>
<p><strong>Purpose:</strong> Assess animal health management, biosecurity protocols, and welfare standards.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Disease surveillance and monitoring systems</li>
  <li>Vaccination protocols and coverage rates</li>
  <li>Common disease prevalence (mastitis, lameness, metabolic, reproductive)</li>
  <li>Disease treatment records and protocols</li>
  <li>Biosecurity measures (quarantine, visitor control, equipment sanitation)</li>
  <li>Herd health testing (TB, brucellosis, etc.) and certification</li>
  <li>Veterinary support and frequency of visits</li>
  <li>Animal welfare assessment (body condition, injuries, behavior)</li>
  <li>Housing conditions (space, ventilation, cleanliness)</li>
  <li>Mortality and morbidity rates</li>
  <li>Antimicrobial use recording and stewardship</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What are the most common diseases and their prevalence?</li>
  <li>What vaccination and disease control programs are in place?</li>
  <li>What biosecurity measures are implemented?</li>
  <li>How often is veterinary support available?</li>
  <li>What is the annual mortality rate and main causes?</li>
  <li>Are welfare assessments conducted and by whom?</li>
  <li>Are there protocols for antimicrobial use?</li>
  <li>Is the herd certified disease-free for any conditions?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Disease surveillance reports and prevalence data</li>
  <li>Vaccination schedules and coverage records</li>
  <li>Treatment records with diagnoses and medications</li>
  <li>Biosecurity protocols and audit reports</li>
  <li>Disease testing results and health certificates</li>
  <li>Veterinary visit logs</li>
  <li>Mortality and culling records with causes</li>
  <li>Welfare assessment reports</li>
  <li>Antimicrobial use records</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Comprehensive disease surveillance, >95% vaccination coverage, low disease prevalence (<10% clinical mastitis, <5% lameness), robust biosecurity protocols implemented, regular herd health testing with disease-free certification, weekly veterinary support, mortality <5%, formal welfare assessments conducted, excellent housing conditions, antimicrobial stewardship program</li>
  <li><strong>3 (Good):</strong> Active disease monitoring, 80-95% vaccination coverage, moderate disease prevalence (10-20% mastitis, 5-10% lameness), good biosecurity measures, annual herd testing, bi-weekly veterinary visits, mortality 5-8%, welfare monitored, good housing, antimicrobial use recorded</li>
  <li><strong>2 (Fair):</strong> Basic disease recording, 60-80% vaccination coverage, higher disease prevalence (20-30% mastitis, 10-15% lameness), basic biosecurity, irregular herd testing, monthly veterinary visits, mortality 8-12%, minimal welfare assessment, adequate housing, limited antimicrobial recording</li>
  <li><strong>1 (Poor):</strong> Minimal disease monitoring, <60% vaccination, high disease prevalence (>30% mastitis, >15% lameness), weak biosecurity, no systematic testing, infrequent veterinary support, mortality >12%, no welfare assessments, poor housing, no antimicrobial stewardship</li>
  <li><strong>0 (Critical):</strong> No disease control, no vaccinations, endemic diseases, no biosecurity, no veterinary support, very high mortality (>20%), severe welfare issues, unacceptable housing</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">9. Feed, Water & Environmental Management</h4>
<p><strong>Purpose:</strong> Evaluate nutrition programs, resource management, and environmental conditions.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Feeding strategy and ration formulation</li>
  <li>Feed quality assessment and testing</li>
  <li>Feed intake recording and monitoring</li>
  <li>Body condition scoring and nutritional management</li>
  <li>Water availability, quality, and access</li>
  <li>Pasture management (if applicable) - grazing systems, carrying capacity</li>
  <li>Housing conditions (space, ventilation, temperature control)</li>
  <li>Environmental monitoring (heat stress, cold stress)</li>
  <li>Manure management and environmental impact mitigation</li>
  <li>Climate adaptation strategies</li>
  <li>Feed efficiency recording (if available)</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What feeding system is used and how are rations formulated?</li>
  <li>Is feed quality tested and how often?</li>
  <li>How is body condition monitored and managed?</li>
  <li>Is water supply adequate and tested for quality?</li>
  <li>What are the housing conditions and stocking densities?</li>
  <li>How are environmental stresses (heat, cold) managed?</li>
  <li>What manure management practices are in place?</li>
  <li>Are there climate adaptation measures?</li>
  <li>Is feed efficiency monitored?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Ration formulation sheets or software outputs</li>
  <li>Feed analysis reports (forage, concentrate)</li>
  <li>Feed purchase and inventory records</li>
  <li>Body condition score records</li>
  <li>Water testing reports</li>
  <li>Housing design and specifications</li>
  <li>Environmental monitoring data (temperature, humidity)</li>
  <li>Manure management plan</li>
  <li>Climate adaptation strategy documents</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Rations formulated by nutritionist and tested regularly, feed quality analyzed monthly, body condition scored and managed, unlimited clean water access with quality testing, optimal housing (space, ventilation, temperature control), comprehensive environmental monitoring and heat/cold stress mitigation, manure management plan implemented, climate adaptation strategies in place, feed efficiency recorded</li>
  <li><strong>3 (Good):</strong> Rations formulated with some technical input, feed tested periodically, body condition monitored, adequate clean water, good housing with ventilation, some environmental monitoring, basic manure management, some adaptation measures, limited feed efficiency data</li>
  <li><strong>2 (Fair):</strong> Basic feeding program, minimal feed testing, irregular body condition scoring, sufficient water but quality uncertain, adequate housing but limited ventilation, minimal environmental monitoring, basic manure disposal, limited adaptation, no feed efficiency recording</li>
  <li><strong>1 (Poor):</strong> Ad-hoc feeding, no feed testing, no body condition management, water supply issues, poor housing conditions, no environmental monitoring, poor manure management, no adaptation strategies, no efficiency monitoring</li>
  <li><strong>0 (Critical):</strong> Inadequate nutrition, severe water shortages, unacceptable housing, environmental hazards unmanaged, serious manure problems, no resource management</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--dairy-color);">10. Partnerships, M&E & Impact</h4>
<p><strong>Purpose:</strong> Assess stakeholder engagement, monitoring and evaluation systems, and program impact.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Partnership agreements with NARS, universities, private sector</li>
  <li>Extension and outreach programs for farmers</li>
  <li>Training and capacity building initiatives</li>
  <li>Germplasm distribution systems (AI, animals)</li>
  <li>Key Performance Indicators (KPIs) defined and tracked</li>
  <li>Monitoring and evaluation framework</li>
  <li>Impact assessment studies</li>
  <li>Farmer adoption rates of improved genetics</li>
  <li>Economic impact analysis</li>
  <li>Communication materials and knowledge products</li>
  <li>Feedback mechanisms from stakeholders</li>
  <li>Sustainability plan and exit strategy</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What partnerships exist and what are their roles?</li>
  <li>How are farmers engaged and trained?</li>
  <li>How is improved germplasm distributed?</li>
  <li>What KPIs are tracked and what are current values?</li>
  <li>How is program impact measured?</li>
  <li>What is the adoption rate of improved genetics?</li>
  <li>What documented impact has the program achieved?</li>
  <li>How are lessons learned captured and applied?</li>
  <li>What is the sustainability plan?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Partnership MOUs and agreements</li>
  <li>Extension program reports</li>
  <li>Training records and curriculum materials</li>
  <li>Germplasm distribution records</li>
  <li>M&E framework document</li>
  <li>KPI tracking dashboards or reports</li>
  <li>Impact assessment studies and reports</li>
  <li>Adoption studies</li>
  <li>Economic analysis reports</li>
  <li>Communication materials (brochures, videos, publications)</li>
  <li>Sustainability and financial plans</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Active partnerships with formal MOUs, comprehensive extension reaching >1000 farmers, regular training programs, systematic germplasm distribution, KPIs defined and tracked quarterly, robust M&E framework, documented impact studies showing >20% productivity gain, adoption rate >30%, economic analysis demonstrates positive ROI, knowledge products published, sustainability plan with diversified funding</li>
  <li><strong>3 (Good):</strong> Several partnerships established, extension reaching 500-1000 farmers, periodic training, organized germplasm distribution, KPIs tracked annually, M&E system in place, some impact evidence (10-20% gain), adoption 15-30%, basic economic analysis, some publications, sustainability considerations documented</li>
  <li><strong>2 (Fair):</strong> Few partnerships, extension reaching <500 farmers, occasional training, ad-hoc germplasm distribution, some KPIs defined but irregular tracking, basic M&E, limited impact evidence (<10% gain), adoption <15%, no economic analysis, minimal publications, weak sustainability plan</li>
  <li><strong>1 (Poor):</strong> Minimal partnerships, little extension, rare training, poor germplasm distribution, no clear KPIs, no M&E system, no impact assessment, low adoption, no economic evidence, no knowledge sharing, no sustainability plan</li>
  <li><strong>0 (Critical):</strong> No partnerships, no extension, no training, no distribution, no KPIs, no M&E, no impact, no adoption, no dissemination, program not sustainable</li>
</ul>

      </div>
    </div>
  </div>

  <!-- POULTRY EVALUATION GUIDE -->
  <div class="accordion-item">
    <h2 class="accordion-header" id="headingPoultry">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapsePoultry" aria-expanded="false" aria-controls="collapsePoultry">
        üêî POULTRY ‚Äì Comprehensive Evaluation Guide (10 Criteria)
      </button>
    </h2>
    <div id="collapsePoultry" class="accordion-collapse collapse" aria-labelledby="headingPoultry" data-bs-parent="#evalGuideAccordion">
      <div class="accordion-body">

<div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-bottom: 24px;">
  <h4 style="color: var(--poultry-color); margin-bottom: 12px;">How to Use This Guide</h4>
  <p>For each criterion, review the <strong>What to Observe</strong>, ask the <strong>Key Questions</strong>, examine the <strong>Documents</strong>, and use the <strong>Scoring Guide</strong> to assign a score from 0-4.</p>
</div>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">1. Governance & Resourcing</h4>
<p><strong>Purpose:</strong> Assess organizational structure, breeding goals, strategic planning, and resource allocation.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Clear breeding objectives and trait priorities documented</li>
  <li>Organizational structure with defined roles and responsibilities</li>
  <li>Technical capacity of breeding team (qualifications, training)</li>
  <li>Functional breeding committee with regular reviews</li>
  <li>Budget allocation and financial sustainability plan</li>
  <li>Standard Operating Procedures for key activities</li>
  <li>Decision-making processes and documentation</li>
  <li>Alignment with national poultry development strategy</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What are the specific breeding goals and target traits?</li>
  <li>Who is responsible for breeding decisions and program management?</li>
  <li>What technical expertise is available in the team?</li>
  <li>How is the program funded and is funding secure?</li>
  <li>How often is program progress reviewed?</li>
  <li>What SOPs exist for breeding operations?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Breeding goal and objectives document</li>
  <li>Organizational chart and staff CVs</li>
  <li>Breeding committee meeting minutes</li>
  <li>Budget documents and financial reports</li>
  <li>Standard Operating Procedures manual</li>
  <li>Strategic plan or program document</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Well-defined breeding goals aligned with market needs, strong organizational structure with qualified geneticist, regular committee meetings, sustainable funding, comprehensive SOPs documented and followed</li>
  <li><strong>3 (Good):</strong> Clear breeding objectives, defined structure, technical staff with some training, regular reviews, budget allocated, most SOPs documented</li>
  <li><strong>2 (Fair):</strong> Basic objectives stated, organizational structure exists but unclear, limited technical capacity, irregular reviews, uncertain funding, few SOPs</li>
  <li><strong>1 (Poor):</strong> Vague objectives, weak organization, minimal technical capacity, no regular reviews, inadequate budget, no SOPs</li>
  <li><strong>0 (Critical):</strong> No clear goals, no organizational structure, no technical capacity, no resources allocated</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">2. Identification & Core Recording</h4>
<p><strong>Purpose:</strong> Evaluate systems for individual bird identification and essential data recording.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Individual identification system (wing bands, RFID, leg bands)</li>
  <li>Permanence and reliability of ID tags</li>
  <li>Pedigree recording system (dam, sire for each chick)</li>
  <li>Hatch date and origin documentation</li>
  <li>Mortality recording with dates and causes</li>
  <li>Body weight recording at standard ages (hatch, 4 weeks, 8 weeks, etc.)</li>
  <li>Individual egg production recording system (trap nests or validated method)</li>
  <li>Health event recording</li>
  <li>Traceability from hatch to culling</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What identification system is used and when are birds tagged?</li>
  <li>What percentage of birds have complete pedigree information?</li>
  <li>How is individual egg production recorded?</li>
  <li>Are trap nests used or another validated system?</li>
  <li>What is the tag loss rate?</li>
  <li>Who is responsible for recording and verification?</li>
  <li>How is data accuracy ensured?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Flock inventory and pedigree records</li>
  <li>Hatching records with parent identification</li>
  <li>Individual weight recording sheets</li>
  <li>Egg production records by bird</li>
  <li>Mortality logs</li>
  <li>ID tag procurement and application protocols</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> 100% birds individually identified with RFID or reliable wing bands, complete pedigree recorded for all birds, individual egg production via trap nests or validated electronic system, <2% tag loss, comprehensive weight recording at all ages, full traceability, electronic database</li>
  <li><strong>3 (Good):</strong> >95% birds identified, >95% pedigree completeness, individual egg recording system in place, <5% tag loss, regular weight recording, good traceability, digital records</li>
  <li><strong>2 (Fair):</strong> 80-95% identification, 80-95% pedigree completeness, pen-level egg recording with some individual data, 5-10% tag loss, irregular weight recording, partial traceability</li>
  <li><strong>1 (Poor):</strong> <80% identification, <80% pedigree completeness, pen-level egg recording only, >10% tag loss, minimal weight recording, poor traceability</li>
  <li><strong>0 (Critical):</strong> No individual identification, no pedigree records, no individual egg data, no systematic recording</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">3. Productivity & Trait Recording</h4>
<p><strong>Purpose:</strong> Assess recording systems for production and economic traits.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Egg production recording (hen-day, hen-housed, peak production)</li>
  <li>Egg weight recording at multiple ages</li>
  <li>Egg quality traits (shell quality, internal quality, abnormalities)</li>
  <li>Body weight recording at standard ages (growth curve)</li>
  <li>Feed consumption recording (individual or pen level)</li>
  <li>Feed conversion ratio calculation</li>
  <li>Age at first egg (sexual maturity)</li>
  <li>Persistency of lay recording</li>
  <li>Livability and survival rates</li>
  <li>Meat yield traits (if applicable for dual-purpose or meat lines)</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>How is egg production recorded and at what frequency?</li>
  <li>What is the average egg production at peak and total production?</li>
  <li>Are egg quality traits measured and how?</li>
  <li>How often are body weights recorded?</li>
  <li>Is feed consumption monitored and at what level?</li>
  <li>How is feed conversion calculated?</li>
  <li>What is the average age at first egg?</li>
  <li>What is the survival rate to end of lay?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Daily or weekly egg production records</li>
  <li>Egg weight data by age</li>
  <li>Egg quality assessment reports</li>
  <li>Body weight recording sheets</li>
  <li>Feed consumption records</li>
  <li>Feed conversion reports</li>
  <li>Production curve summaries</li>
  <li>Livability reports</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Daily individual egg production recording, egg weight measured at least monthly, comprehensive egg quality assessment, body weights at 6+ ages, individual feed intake recorded, FCR calculated, age at first egg documented, persistency tracked, survival >90%, complete production database</li>
  <li><strong>3 (Good):</strong> Individual egg production recorded at least weekly, egg weight measured periodically, basic egg quality checks, body weights at 4-5 ages, pen-level feed recording, FCR estimated, sexual maturity recorded, survival 80-90%, digital records</li>
  <li><strong>2 (Fair):</strong> Pen-level egg production, occasional egg weights, minimal egg quality data, body weights at 2-3 ages, irregular feed recording, no FCR, limited maturity data, survival 70-80%, incomplete records</li>
  <li><strong>1 (Poor):</strong> Flock-level production estimates, rare egg weights, no egg quality data, minimal body weight recording, no feed data, no FCR, no maturity tracking, survival <70%, poor records</li>
  <li><strong>0 (Critical):</strong> No systematic production recording, no trait measurement, no performance data available</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">4. Fertility, Hatchability & Chick Quality</h4>
<p><strong>Purpose:</strong> Evaluate reproductive performance and hatchery management.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Egg fertility testing (candling or break-out)</li>
  <li>Fertility rates by male and female lines</li>
  <li>Hatchability of fertile eggs (HFE)</li>
  <li>Hatchability of set eggs (HSE)</li>
  <li>Embryo mortality patterns (early, mid, late)</li>
  <li>Chick quality scoring system</li>
  <li>First week chick mortality</li>
  <li>Mating ratio monitoring</li>
  <li>Male fertility testing</li>
  <li>Egg storage and setter management</li>
  <li>Hatchery conditions and biosecurity</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What is the current fertility rate?</li>
  <li>What is the hatchability of fertile eggs?</li>
  <li>How is fertility assessed (candling, break-out)?</li>
  <li>What are the main causes of embryo mortality?</li>
  <li>How is chick quality evaluated?</li>
  <li>What is the first week chick mortality rate?</li>
  <li>What mating ratios are used?</li>
  <li>Are males tested for fertility?</li>
  <li>What are the hatchery protocols?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Fertility testing records</li>
  <li>Hatchability reports by pen or line</li>
  <li>Embryo mortality breakout analysis</li>
  <li>Chick quality assessment records</li>
  <li>Early chick mortality logs</li>
  <li>Male fertility test results</li>
  <li>Mating pen records</li>
  <li>Hatchery operation protocols</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Fertility >90%, HFE >85%, systematic fertility testing (candling + breakout), embryo mortality analyzed and categorized, formal chick quality scoring, first week mortality <3%, optimal mating ratios maintained, males fertility tested, excellent hatchery management</li>
  <li><strong>3 (Good):</strong> Fertility 85-90%, HFE 80-85%, regular fertility testing, embryo mortality tracked, chick quality monitored, first week mortality 3-5%, appropriate mating ratios, some male testing, good hatchery practices</li>
  <li><strong>2 (Fair):</strong> Fertility 75-85%, HFE 70-80%, occasional fertility checks, basic embryo mortality tracking, informal chick assessment, first week mortality 5-8%, variable mating ratios, limited male testing, adequate hatchery</li>
  <li><strong>1 (Poor):</strong> Fertility <75%, HFE <70%, no systematic fertility testing, no embryo analysis, no chick quality system, first week mortality >8%, poor mating management, no male testing, weak hatchery practices</li>
  <li><strong>0 (Critical):</strong> Very low fertility (<60%), poor hatchability (<60%), no fertility monitoring, high embryo losses, high chick mortality (>15%), no reproductive management</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">5. Data System & Quality Assurance</h4>
<p><strong>Purpose:</strong> Evaluate data management infrastructure, quality control, and security.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Database software or system used (specialized software, spreadsheet, paper)</li>
  <li>Data entry protocols and timing</li>
  <li>Data validation rules and error checking</li>
  <li>Data completeness (missing data rates)</li>
  <li>Data accuracy verification procedures</li>
  <li>Backup systems and frequency</li>
  <li>Data security and access controls</li>
  <li>Staff training on data management</li>
  <li>Quality control reports and error correction</li>
  <li>Integration of different data sources (production, pedigree, health)</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What database system is used for recording?</li>
  <li>How soon after events are data entered?</li>
  <li>What validation checks prevent data errors?</li>
  <li>What percentage of data is complete (not missing)?</li>
  <li>How often are backups performed and where stored?</li>
  <li>Who has access to data and what security exists?</li>
  <li>How are staff trained on data management?</li>
  <li>What quality control procedures are in place?</li>
  <li>Can the system generate reports for genetic evaluation?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Database system documentation</li>
  <li>Data entry SOPs</li>
  <li>Data quality reports (completeness, accuracy)</li>
  <li>Backup logs and recovery procedures</li>
  <li>Staff training records</li>
  <li>Data validation rule documentation</li>
  <li>Sample database queries and reports</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Professional poultry breeding software (e.g., specialized system), real-time or daily data entry, comprehensive validation rules, <2% missing data, regular QC audits, daily automated backups with off-site storage, secure access controls, staff fully trained, integrated data system</li>
  <li><strong>3 (Good):</strong> Robust database system, weekly data entry, good validation checks, 2-5% missing data, monthly QC, weekly backups, password protection, staff trained, mostly integrated data</li>
  <li><strong>2 (Fair):</strong> Spreadsheet-based system, irregular data entry, basic validation, 5-10% missing data, occasional QC, irregular backups, limited security, some staff training, fragmented data</li>
  <li><strong>1 (Poor):</strong> Paper-based or simple spreadsheet, delayed data entry, no validation, >10% missing data, no QC, no systematic backups, no security, minimal training, disconnected data</li>
  <li><strong>0 (Critical):</strong> No organized data system, no protocols, data frequently lost, no quality control, no backups</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">6. Genetic Evaluation & Diversity Control</h4>
<p><strong>Purpose:</strong> Assess genetic evaluation methods, base population management, and genetic diversity.</p>

<h5>What to Observe:</h5>
<ul>
  <li><strong>BASE POPULATION:</strong> Origin, size, and genetic characterization of foundation stock</li>
  <li><strong>BASE POPULATION:</strong> Number of founder lines and their documentation</li>
  <li><strong>BASE POPULATION:</strong> Breed purity or crossbreeding background</li>
  <li>Genetic evaluation methodology (BLUP, selection index, phenotypic)</li>
  <li>Software used for genetic evaluation (ASReml, BLUPF90, etc.)</li>
  <li>Traits included in breeding value estimation</li>
  <li>Frequency of genetic evaluation</li>
  <li>Reliability (accuracy) of breeding values</li>
  <li>Genetic trends for key traits over generations</li>
  <li>Effective population size (Ne) monitoring</li>
  <li>Inbreeding coefficient calculation and tracking</li>
  <li>Line differentiation and maintenance</li>
  <li>Genetic diversity indices</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What is the origin and size of the base population?</li>
  <li>How many founder lines exist and are they documented?</li>
  <li>What genetic evaluation method is used?</li>
  <li>What software is used for breeding value estimation?</li>
  <li>How often are breeding values calculated?</li>
  <li>What are the genetic trends for key traits?</li>
  <li>What is the current effective population size?</li>
  <li>What is the average inbreeding coefficient?</li>
  <li>How is inbreeding controlled in mating?</li>
  <li>Are different lines maintained and how?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Base population documentation and acquisition records</li>
  <li>Breed characterization studies</li>
  <li>Genetic evaluation methodology documentation</li>
  <li>Breeding value (EBV) reports</li>
  <li>Genetic trend graphs</li>
  <li>Pedigree analysis reports</li>
  <li>Inbreeding analysis</li>
  <li>Effective population size calculations</li>
  <li>Line pedigrees and maintenance records</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Well-documented base population with >4 distinct lines or >100 founders, BLUP or genomic evaluation using professional software (ASReml/BLUPF90), breeding values for multiple traits calculated at least annually, reliabilities >0.40, positive genetic trends demonstrated over 5+ generations, Ne >50, average inbreeding <5%, systematic mating to minimize inbreeding, active line differentiation</li>
  <li><strong>3 (Good):</strong> Base population documented (2-4 lines or 50-100 founders), BLUP evaluation annually, breeding values for key traits with moderate reliability (0.25-0.40), genetic trends tracked over 3-5 generations, Ne 30-50, inbreeding 5-10%, mating considers relatedness, lines maintained</li>
  <li><strong>2 (Fair):</strong> Base population partially documented (<50 founders), selection index or within-flock comparison, breeding values calculated irregularly with low reliability (<0.25), some genetic trend information, Ne <30, inbreeding >10%, limited mating control, line integrity questionable</li>
  <li><strong>1 (Poor):</strong> Base population poorly documented, phenotypic selection only, no formal breeding values, no genetic trends available, Ne unknown, inbreeding not monitored, random mating, no line structure</li>
  <li><strong>0 (Critical):</strong> No base population information, no genetic evaluation, no selection program, severe inbreeding problems, no genetic management</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">7. Selection, Culling & Reproductive Technologies</h4>
<p><strong>Purpose:</strong> Evaluate selection strategies, mating designs, and breeding management.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Selection criteria and index development</li>
  <li>Selection intensity (proportion selected)</li>
  <li>Selection differential achieved</li>
  <li>Male and female selection protocols</li>
  <li>Culling criteria and timing</li>
  <li>Mating design (random, assortative, minimum coancestry)</li>
  <li>Family size control</li>
  <li>Generation interval management</li>
  <li>Artificial insemination usage (if applicable)</li>
  <li>Semen collection and storage (if applicable)</li>
  <li>Progeny testing program</li>
  <li>Genetic gain monitoring</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What traits are used in selection and how are they weighted?</li>
  <li>What proportion of males and females are selected?</li>
  <li>How are males selected (individual performance, family, breeding value)?</li>
  <li>What are the main culling reasons and rates?</li>
  <li>What mating design is used?</li>
  <li>How are family sizes controlled?</li>
  <li>What is the generation interval?</li>
  <li>Is AI used and for what purpose?</li>
  <li>What genetic gain has been achieved?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Selection index formula and trait weights</li>
  <li>Male and female rankings</li>
  <li>Selection and culling records</li>
  <li>Mating plan documentation</li>
  <li>Family size reports</li>
  <li>Generation interval analysis</li>
  <li>AI program documentation (if applicable)</li>
  <li>Genetic gain reports</li>
  <li>Selection differential calculations</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Multi-trait selection index based on breeding values, top 10% males and 30% females selected, high selection intensity, systematic culling of bottom performers, optimal mating design minimizing inbreeding, family sizes controlled (10-20 per sire), generation interval optimized (8-12 months), AI used strategically, documented genetic gain >3% per year</li>
  <li><strong>3 (Good):</strong> Clear selection criteria, top 15% males and 40% females selected, culling based on performance, mating plan considers inbreeding, family sizes monitored, reasonable generation interval, some AI use, genetic gain 2-3% per year</li>
  <li><strong>2 (Fair):</strong> Basic selection criteria, top 25% males and 50% females selected, irregular culling, simple mating plan, variable family sizes, generation interval not optimized, limited AI, genetic gain 1-2% per year</li>
  <li><strong>1 (Poor):</strong> Unclear selection criteria, >30% selected, minimal culling, random mating, uncontrolled family sizes, long generation interval, no AI, minimal genetic gain (<1%)</li>
  <li><strong>0 (Critical):</strong> No selection program, no culling strategy, no mating plan, no genetic improvement</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">8. Health, Biosecurity & Welfare</h4>
<p><strong>Purpose:</strong> Assess health management, biosecurity protocols, and bird welfare.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Disease surveillance and monitoring systems</li>
  <li>Vaccination programs and coverage</li>
  <li>Common disease prevalence and mortality patterns</li>
  <li>Biosecurity measures (quarantine, foot baths, restricted access, sanitation)</li>
  <li>Disease testing and certification (Salmonella, Mycoplasma, AI, ND)</li>
  <li>Veterinary support availability</li>
  <li>Mortality rates by age and cause</li>
  <li>Welfare assessment (behavior, feather cover, injuries, stress)</li>
  <li>Housing conditions (space allowance, litter quality, environmental control)</li>
  <li>Parasite control programs</li>
  <li>Medication and antimicrobial use recording</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What are the most common diseases and their prevalence?</li>
  <li>What vaccination protocols are followed?</li>
  <li>What biosecurity measures are implemented?</li>
  <li>How often is veterinary support available?</li>
  <li>What is the mortality rate at different ages?</li>
  <li>Is the flock tested and certified disease-free for any conditions?</li>
  <li>How is bird welfare monitored?</li>
  <li>What are the housing standards?</li>
  <li>How is medication use tracked?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Disease surveillance reports</li>
  <li>Vaccination schedules and records</li>
  <li>Mortality logs with causes</li>
  <li>Biosecurity protocols and audit reports</li>
  <li>Disease testing results and health certificates</li>
  <li>Veterinary visit logs</li>
  <li>Welfare assessment reports</li>
  <li>Housing specifications</li>
  <li>Medication use records</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Comprehensive disease surveillance, 100% vaccination coverage for essential diseases, disease-free certification, robust biosecurity (quarantine, sanitation, access control), weekly veterinary support, mortality <5% to point of lay and <8% during lay, formal welfare assessments, excellent housing (adequate space, ventilation, light), systematic parasite control, antimicrobial stewardship</li>
  <li><strong>3 (Good):</strong> Active disease monitoring, >95% vaccination coverage, good biosecurity measures, bi-weekly veterinary visits, mortality 5-8% to POL and 8-12% during lay, welfare monitored, good housing conditions, regular parasite control, medication use recorded</li>
  <li><strong>2 (Fair):</strong> Basic disease recording, 80-90% vaccination coverage, adequate biosecurity, monthly veterinary visits, mortality 8-12% to POL and 12-18% during lay, minimal welfare assessment, adequate housing, irregular parasite control, limited medication recording</li>
  <li><strong>1 (Poor):</strong> Minimal disease monitoring, <80% vaccination, weak biosecurity, infrequent veterinary support, mortality >12% to POL and >18% during lay, no welfare assessments, poor housing conditions, no parasite control, no medication tracking</li>
  <li><strong>0 (Critical):</strong> No disease control, no vaccinations, no biosecurity, no veterinary support, very high mortality (>20%), severe welfare issues, unacceptable housing</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">9. Feed, Water & Environmental Management</h4>
<p><strong>Purpose:</strong> Evaluate nutrition, resource management, and environmental conditions.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Feed formulation and quality control</li>
  <li>Feed programs for different ages (starter, grower, layer/breeder)</li>
  <li>Feed quality testing (nutrient analysis, mycotoxins)</li>
  <li>Body weight monitoring and adjustment of feeding</li>
  <li>Water availability, quality, and delivery system</li>
  <li>Housing design (ventilation, temperature control, lighting)</li>
  <li>Stocking density and space allowance</li>
  <li>Litter management and quality</li>
  <li>Temperature and humidity monitoring</li>
  <li>Lighting program (intensity, duration, spectrum)</li>
  <li>Heat stress mitigation strategies</li>
  <li>Environmental enrichment</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>How are feed rations formulated and by whom?</li>
  <li>Is feed quality tested regularly?</li>
  <li>Are body weights monitored and feeding adjusted?</li>
  <li>Is water supply adequate and tested for quality?</li>
  <li>What are the housing conditions (ventilation, temperature)?</li>
  <li>What is the stocking density?</li>
  <li>How is litter managed?</li>
  <li>Are environmental parameters monitored?</li>
  <li>What lighting program is used?</li>
  <li>How is heat stress managed?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Feed formulation sheets</li>
  <li>Feed analysis reports</li>
  <li>Body weight monitoring records</li>
  <li>Water quality test results</li>
  <li>Housing design specifications</li>
  <li>Environmental monitoring data</li>
  <li>Lighting program documentation</li>
  <li>Litter management protocols</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Rations formulated by nutritionist based on NRC standards, feed quality tested monthly, body weights tracked and feeding adjusted, unlimited clean water with quality testing, optimal housing (ventilation, temperature <28¬∞C, controlled lighting), stocking density <6 birds/m¬≤, fresh litter management, comprehensive environmental monitoring, effective heat stress mitigation, enrichment provided</li>
  <li><strong>3 (Good):</strong> Rations formulated with technical input, feed tested quarterly, body weights monitored, adequate clean water, good housing with ventilation, stocking density 6-8 birds/m¬≤, regular litter management, some environmental monitoring, basic heat stress measures, some enrichment</li>
  <li><strong>2 (Fair):</strong> Standard feed program, minimal feed testing, irregular body weight checks, sufficient water but quality uncertain, adequate housing but limited ventilation, stocking density 8-10 birds/m¬≤, basic litter management, minimal environmental monitoring, limited heat stress management, no enrichment</li>
  <li><strong>1 (Poor):</strong> Ad-hoc feeding, no feed testing, no body weight monitoring, water supply issues, poor housing (inadequate ventilation, high temperatures), overcrowding (>10 birds/m¬≤), poor litter quality, no environmental monitoring, no heat stress management</li>
  <li><strong>0 (Critical):</strong> Inadequate nutrition, severe water shortages, unacceptable housing, extreme overcrowding, ammonia problems, no environmental control</li>
</ul>

<hr style="margin: 32px 0;">

<h4 style="color: var(--poultry-color);">10. Partnerships, M&E & Impact</h4>
<p><strong>Purpose:</strong> Assess stakeholder engagement, monitoring and evaluation, and program impact.</p>

<h5>What to Observe:</h5>
<ul>
  <li>Partnership agreements with research institutions, hatcheries, farmers</li>
  <li>Extension and training programs</li>
  <li>Chick or hatching egg distribution systems</li>
  <li>Farmer adoption and feedback mechanisms</li>
  <li>Key Performance Indicators (KPIs) defined and tracked</li>
  <li>Monitoring and evaluation framework</li>
  <li>Impact assessment studies</li>
  <li>Economic analysis of program benefits</li>
  <li>Communication and knowledge sharing</li>
  <li>Breed conservation efforts (if applicable)</li>
  <li>Sustainability plan</li>
</ul>

<h5>Key Questions to Ask:</h5>
<ul>
  <li>What partnerships exist and what are their roles?</li>
  <li>How are farmers and hatcheries engaged?</li>
  <li>How are improved birds or eggs distributed?</li>
  <li>What KPIs are tracked and what are current values?</li>
  <li>How is program impact measured?</li>
  <li>What is the adoption rate of improved genetics?</li>
  <li>What documented benefits have farmers experienced?</li>
  <li>How are lessons learned captured?</li>
  <li>What is the sustainability plan?</li>
  <li>Are indigenous breeds being conserved?</li>
</ul>

<h5>Documents to Review:</h5>
<ul>
  <li>Partnership MOUs and agreements</li>
  <li>Extension program reports and training materials</li>
  <li>Chick/egg distribution records</li>
  <li>Farmer feedback and adoption studies</li>
  <li>M&E framework document</li>
  <li>KPI tracking reports</li>
  <li>Impact assessment studies</li>
  <li>Economic analysis reports</li>
  <li>Publications and communication materials</li>
  <li>Sustainability plan</li>
</ul>

<h5>Scoring Guide:</h5>
<ul>
  <li><strong>4 (Excellent):</strong> Active partnerships with formal agreements, comprehensive extension reaching >500 farmers, systematic distribution of >10,000 birds/eggs annually, KPIs defined and tracked quarterly, robust M&E framework, documented impact studies showing >20% productivity gain, adoption rate >25%, economic analysis demonstrates positive ROI, regular knowledge sharing, breed conservation activities, sustainability plan with diversified funding</li>
  <li><strong>3 (Good):</strong> Several partnerships established, extension reaching 200-500 farmers, organized distribution of 5,000-10,000 birds/eggs, KPIs tracked annually, M&E system in place, some impact evidence (10-20% gain), adoption 15-25%, basic economic analysis, some publications, conservation efforts, sustainability considerations</li>
  <li><strong>2 (Fair):</strong> Few partnerships, extension reaching <200 farmers, ad-hoc distribution (<5,000 birds/eggs), some KPIs defined but irregular tracking, basic M&E, limited impact evidence (<10% gain), adoption <15%, no economic analysis, minimal knowledge sharing, limited conservation, weak sustainability plan</li>
  <li><strong>1 (Poor):</strong> Minimal partnerships, little extension, poor distribution system, no clear KPIs, no M&E system, no impact assessment, low adoption, no economic evidence, no dissemination, no conservation, no sustainability plan</li>
  <li><strong>0 (Critical):</strong> No partnerships, no extension, no distribution, no KPIs, no M&E, no impact, no adoption, no knowledge sharing, program not sustainable</li>
</ul>

      </div>
    </div>
  </div>

</div>

</div>

</body>
</html>
